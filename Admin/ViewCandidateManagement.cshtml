@using FujairahHR.Models;
@{
    var data_rs = (List<Dictionary<string, string>>)ViewBag.data_rs;
}

<style type="text/css">
    .modal-lg, .modal-xl {
        max-width: 1600px !important;
    }

    .num {
        border-radius: 50%;
        text-align: center;
        background-color: #02C193;
        width: 30px;
        height: 30px;
        color: #FFFFFF;
        line-height: 30px;
    }

    .num-blue {
        background-color: #475DE3;
    }

    .num-red {
        background-color: #EF3039;
    }

    .num-yellow {
        background-color: #F7BC06;
    }

    .card {
        border-bottom: 1px solid #dce4ec !important;
    }

    .add_new_btn {
        border-radius: 50%;
        width: 50px;
        height: 50px;
        float: right;
        font-size: 30px;
        line-height: 1px;
    }

    .th-align-center {
        text-align: center;
    }

    .mdi-close-circle {
        font-size: 20px;
    }

    .row-elem {
        margin-right: 10px;
    }

    .accordion.alternate-icons .card .card-header a[data-toggle=collapse]:after {
        top: 15px !important;
    }

    .delete-btn {
        top: 17px !important;
        border: none;
        background: none;
    }

    .nav-item {
        display: none;
    }

    #picture_section {
        display: none;
    }

    .ddm {
        width: 100%;
        padding: 6px;
    }

    .padd-btm {
        padding-bottom: 6px;
    }

    .age-box {
        float: left;
        margin-right: 10px;
        display: inline-block;
    }

        .age-box input[type="text"] {
            width: 43px;
        }
</style>

<script>
    $(document).ready(function () {
        $("#picture_section").slideUp();
    });
</script>

<main class="admin-main">
    <!---->
    <!--site header begins-->
    <header class="admin-header">
        <a href="#" class="sidebar-toggle" data-toggleclass="sidebar-open" data-target="body"> </a>
        <nav class=" mr-auto my-auto">
            <ul class="nav align-items-center">
                <li class="nav-item"> <a class="nav-link  " data-target="#siteSearchModal" data-toggle="modal" href="#"> <i class=" mdi mdi-magnify mdi-24px align-middle"></i> </a> </li>
            </ul>
        </nav>
        <nav class=" ml-auto">
            <ul class="nav align-items-center">
                <li class="nav-item">
                    <div class="dropdown">
                        <a href="#" class="nav-link" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> <i class="mdi mdi-24px mdi-bell-outline"></i> <span class="notification-counter"></span> </a>
                        <div class="dropdown-menu notification-container dropdown-menu-right">
                            <div class="d-flex p-all-15 bg-white justify-content-between border-bottom "> <a href="#!" class="mdi mdi-18px mdi-settings text-muted"></a> <span class="h5 m-0">@CF.trans_code("en", "c1", "Notifications")</span> <a href="#!" class="mdi mdi-18px mdi-notification-clear-all text-muted"></a> </div>
                            <div class="notification-events bg-gray-300">
                                <div class="text-overline m-b-5">@CF.trans_code("en", "c2", "today")</div>
                                <a href="#" class="d-block m-b-10">
                                    <div class="card">
                                        <div class="card-body"> <i class="mdi mdi-circle text-success"></i>@CF.trans_code("en", "c3", "All systems operational.")</div>
                                    </div>
                                </a> <a href="#" class="d-block m-b-10">
                                    <div class="card">
                                        <div class="card-body"> <i class="mdi mdi-upload-multiple "></i>@CF.trans_code("en", "c4", "File upload successful.")</div>
                                    </div>
                                </a> <a href="#" class="d-block m-b-10">
                                    <div class="card">
                                        <div class="card-body"> <i class="mdi mdi-cancel text-danger"></i>@CF.trans_code("en", "c5", "Your holiday has been denied")</div>
                                    </div>
                                </a>
                            </div>
                        </div>
                    </div>
                </li>
                <li class="nav-item dropdown ">
                    <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown"
                       aria-haspopup="true" aria-expanded="false">
                        <div class="avatar avatar-sm avatar-online"> <span class="avatar-title rounded-circle bg-dark">V</span> </div>
                    </a>
                    <div class="dropdown-menu  dropdown-menu-right">
                        <a class="dropdown-item" href="#">@CF.trans_code("en", "c6", "Add Account")</a> <a class="dropdown-item" href="#">@CF.trans_code("en", "c7", "Reset Password")</a> <a class="dropdown-item" href="#">@CF.trans_code("en", "c8", "Help")</a>
                        <div class="dropdown-divider"></div>
                        <a class="dropdown-item" href="#">@CF.trans_code("en", "c9", "Logout")</a>
                    </div>
                </li>
            </ul>
        </nav>
    </header>
    <!--site header ends -->
    <!---->
    <section class="admin-content">
        <div class="bg-dark">
            <div class="container">
                <div class="row p-b-60 p-t-60">

                    <div class="col-md-4 text-white p-b-30">
                        <div class="media">
                            <div class="avatar avatar mr-3">
                                <div class="avatar-title bg-success rounded-circle mdi mdi-newspaper">

                                </div>
                            </div>
                            <div class="media-body">
                                <h1>@CF.trans_code("en", "c10", "Candidates Management")</h1>
                                <p class="opacity-75">
                                    @CF.trans_code("en", "c11", "View all candidate postings.")
                                </p>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-3 text-center m-b-30 ml-auto">
                        <div class="rounded text-white bg-white-translucent">
                            <div class="p-all-15">
                                <div class="row">
                                    <div class="col-md-12 my-2 m-md-0">
                                        <div class="text-overline opacity-75">@CF.trans_code("en", "c12", "Total Candidates")</div>
                                        <h3 class="m-0 text-success" id="total_records"> @data_rs.Count()</h3>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="col-md-5 text-white">

                        @*<div style="text-align:right; padding-top:40px;">
                            <button style="width:110px" type="button" class="btn  m-b-30 ml-2 mr-2 btn-secondary" onclick="javascript:ajax_delete()">
                                <i class="mdi mdi-close"></i>@CF.trans_code("en", "c13", "Delete")
                            </button>
                            <button style="width:110px" type="button" class="btn  m-b-30 ml-2 mr-2 btn-warning" onclick="javascript:show_add_form()">
                                <i class="mdi mdi-plus"></i>@CF.trans_code("en", "c14", "New")
                            </button>
                            <button style="width:110px" type="button" class="btn  m-b-30 ml-2 mr-2 btn-info" onclick="javascript:show_edit_form()">
                                <i class="mdi mdi-border-color"></i>@CF.trans_code("en", "c14", "New")
                            </button>
                            <button style="width:110px" type="button" class="btn  m-b-30 ml-2 mr-2 btn-success" onclick="javascript:ajax_activate()">
                                <i class="mdi mdi-arrow-up"></i>@CF.trans_code("en", "c16", "Publish")
                            </button>
                            <button style="width:110px" type="button" class="btn  m-b-30 ml-2 mr-2 btn-danger" onclick="javascript:ajax_deactivate()">
                                <i class="mdi mdi-arrow-down"></i>@CF.trans_code("en", "c17", "Unpublish")
                            </button>
                        </div>*@

                    </div>
                </div>
            </div>
        </div>


        <!--DT START-->
        <div class="container  pull-up">
            <div class="row">
                <div class="col-12">
                    <div class="card">
                        <div class="card-body">
                            <div class="table-responsive p-t-10">

                                <div class="row padd-btm">
                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c56", "Nationality"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_nationality"></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c57", "UAE Citizens Sons"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_uae_citizen_sons"></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c60", "Gender"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_gender"></div>
                                    </div>
                                </div>

                                <div class="row padd-btm" ">
                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c64", "Marital Status"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_marital_status"></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c65", "Emirate"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_emirate"></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c80", "Educational Level"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_educational_level"></div>
                                    </div>
                                </div>

                                <div class="row padd-btm" ">
                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c81", "Educational Institute")
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_educational_institute"></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c82", "Speciality"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_speciality"></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c96", "Languages"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_language"></div>
                                    </div>
                                </div>

                                <div class="row padd-btm" ">
                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c77", "Employment Status"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_employment_status"></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c22", "Is Disabled"):
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_is_disabled"></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c21", "Age"):
                                    </div>
                                    <div class="col-sm-1" style="padding-right:0px;">
                                        <div class="age-box"><input type="text" id="min" name="min"></div> <div class="age-box"><input type="text" id="max" name="max"></div>
                                    </div>
                                </div>

                                <div class="row padd-btm" ">
                                    <div class="col-sm-2">
                                        @CF.trans_code("en", "c31", "Status")
                                    </div>
                                    <div class="col-sm-1">
                                        <div id="candidate_status"></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">&nbsp;</div>

                                    <div class="col-sm-1">
                                        <div></div>
                                    </div>

                                    <div class="col-sm-1">&nbsp;</div>

                                    <div class="col-sm-2">
                                    </div>
                                    <div class="col-sm-1">
                                    </div>
                                </div>
                                <br>

                                <table id="tbl_listing" class="display" width="100%" cellspacing="0">
                                    <thead>
                                        <tr>
                                            <th class="text-center">@CF.trans_code("en", "c20", "Serial No")</th>
                                            <th class="text-center">@CF.trans_code("en", "c65", "Emirate")</th>
                                            <th class="text-center">@CF.trans_code("en", "c60", "Gender")</th>
                                            <th class="text-center">@CF.trans_code("en", "c21", "Age")</th>
                                            <th class="text-center">@CF.trans_code("en", "c64", "Marital Status")</th>
                                            <th class="text-center">@CF.trans_code("en", "c65", "Emirate")</th>
                                            <th class="text-center">@CF.trans_code("en", "c77", "Employment Status")</th>
                                            <th class="text-center">@CF.trans_code("en", "c22", "Is Disabled")</th>
                                            <th class="text-center">@CF.trans_code("en", "c96", "Languages")</th>
                                            <th class="text-center">@CF.trans_code("en", "c23", "Candidate Status")</th>
                                            <th class="text-center">@CF.trans_code("en", "c52", "Emirates ID")</th>
                                            <th class="text-center">@CF.trans_code("en", "c24", "Mobile 1")</th>
                                            <th class="text-center">@CF.trans_code("en", "c25", "Mobile 2")</th>
                                            <th class="text-center">@CF.trans_code("en", "c63", "Birth Date")</th>
                                            <th class="text-center">@CF.trans_code("en", "c82", "Speciality")</th>
                                            <th class="text-center">@CF.trans_code("en", "c27", "Education")<br>@CF.trans_code("en", "c26", "Institute")</th>
                                            <th class="text-center">@CF.trans_code("en", "c27", "Education")<br>@CF.trans_code("en", "c28", "Level")</th>
                                            <th class="text-center">@CF.trans_code("en", "c19", "UAE Citizen") <br>@CF.trans_code("en", "c29", "Sons")</th>
                                            <th class="text-center">@CF.trans_code("en", "c56", "Nationality")</th>
                                            <th class="text-center">@CF.trans_code("en", "c48", "Name")</th>
                                            <th class="text-center">@CF.trans_code("en", "c30", "Code")</th>
                                            <th class="text-center">@CF.trans_code("en", "c31", "Status")</th>
                                            <th class="text-center"><input type="checkbox" id="checkbox_row_all" class="checkbox_row_all" name="checkbox_row_all" />  </th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                            <td class="text-center"></td>
                                        </tr>
                                    </tbody>
                                    <tfoot>
                                        <tr>
                                            <th class="text-center">@CF.trans_code("en", "c20", "Serial No")</th>
                                            <th class="text-center">@CF.trans_code("en", "c65", "Emirate")</th>
                                            <th class="text-center">@CF.trans_code("en", "c60", "Gender")</th>
                                            <th class="text-center">@CF.trans_code("en", "c21", "Age")</th>
                                            <th class="text-center">@CF.trans_code("en", "c64", "Marital Status")</th>
                                            <th class="text-center">@CF.trans_code("en", "c65", "Emirate")</th>
                                            <th class="text-center">@CF.trans_code("en", "c77", "Employment Status")</th>
                                            <th class="text-center">@CF.trans_code("en", "c22", "Is Disabled")</th>
                                            <th class="text-center">@CF.trans_code("en", "c96", "Languages")</th>
                                            <th class="text-center">@CF.trans_code("en", "c23", "Candidate Status")</th>
                                            <th class="text-center">@CF.trans_code("en", "c52", "Emirates ID")</th>
                                            <th class="text-center">@CF.trans_code("en", "c24", "Mobile 1")</th>
                                            <th class="text-center">@CF.trans_code("en", "c25", "Mobile 2")</th>
                                            <th class="text-center">@CF.trans_code("en", "c63", "Birth Date")</th>
                                            <th class="text-center">@CF.trans_code("en", "c82", "Speciality")</th>
                                            <th class="text-center">@CF.trans_code("en", "c27", "Education")<br>@CF.trans_code("en", "c26", "Institute")</th>
                                            <th class="text-center">@CF.trans_code("en", "c27", "Education")<br>@CF.trans_code("en", "c28", "Level")</th>
                                            <th class="text-center">@CF.trans_code("en", "c19", "UAE Citizen") <br>@CF.trans_code("en", "c29", "Sons")</th>
                                            <th class="text-center">@CF.trans_code("en", "c56", "Nationality")</th>
                                            <th class="text-center">@CF.trans_code("en", "c48", "Name")</th>
                                            <th class="text-center">@CF.trans_code("en", "c30", "Code")</th>
                                            <th class="text-center">@CF.trans_code("en", "c31", "Status")</th>
                                            <th class="text-center">&nbsp;</th>
                                        </tr>
                                    </tfoot>
                                </table>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--DT END-->
    </section>
</main>

<!-- MODAL ADD START -->
<div id="modal_add" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="modal_add" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="card m-b-30">
                <div class="card-header">
                    <h5 class="m-b-0">
                        @CF.trans_code("en", "c32", "Candidate Manager")
                    </h5>
                    <p class="m-b-0 text-muted">
                       @CF.trans_code("en", "c33", "Add New Candidate")
                    </p>
                </div>
                <div class="card-body ">
                    <form id="frm_add" name="frm_add">
                        <div>
                            <!--card begins-->
                            <div class="card m-b-30">
                                <div class="card-header" id="picture_section">
                                    <div class="card-title">
                                        @*<img src="~/Content/uploads/5a.jpg" style="border-radius:50%; width:80px; height:80px; padding:2px; border:1px solid #E2EAF6" />*@
                                        <span style="position:relative; top:-10px;">
                                            <div class="picture-box" id="picture" style="display:none"></div>
                                            <div class="input-icon" id="fu-picture-image">
                                                <span>
                                                    <label for="file_upload_picture" class="btn btn-primary btn-bordered">@CF.trans_code("en", "c34", "Upload Picture")</label>
                                                    <input type="file" id="file_upload_picture" class="btn-default" style="display:none" />
                                                </span>
                                            </div>
                                        </span>
                                    </div>

                                    <div>
                                        <div class="m-b-10">
                                            <p class="font-secondary">

                                            </p>
                                            <div class="custom-control custom-radio custom-control-inline">
                                                <input type="radio" id="customRadioInline1" name="customRadioInline1" class="custom-control-input" onchange="ajax_save_candidate_status('hired')">
                                                <label class="custom-control-label" for="customRadioInline1">
                                                    @CF.trans_code("en", "c35", "Hired")
                                                </label>
                                            </div>
                                            <div class="custom-control custom-radio custom-control-inline">
                                                <input type="radio" id="customRadioInline2" name="customRadioInline1" class="custom-control-input" onchange="ajax_save_candidate_status('archieve')">
                                                <label class="custom-control-label" for="customRadioInline2">
                                                    @CF.trans_code("en", "c36", "Archieve")
                                                </label>
                                            </div>
                                            <div class="custom-control custom-radio custom-control-inline">
                                                <input type="radio" id="customRadioInline3" name="customRadioInline1" class="custom-control-input" onchange="ajax_save_candidate_status('active')">
                                                <label class="custom-control-label" for="customRadioInline3">
                                                    @CF.trans_code("en", "c37", "Active"))
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="hired_block" style="display:block">
                                        <div class="row">
                                            <div class="col-lg-1">
                                                @CF.trans_code("en", "c38", "Date"):
                                                <input type="text" class="form-control datepicker" name="candidate_hired_date" id="candidate_hired_date" style="padding:0px; text-align:center;" onchange="ajax_save_candidate_status('hired')" />
                                            </div>

                                            <div class="col-lg-1"></div>

                                            <div class="col-lg-1">
                                                @CF.trans_code("en", "c39", "Place"):
                                                <select name="candidate_hired_place" id="candidate_hired_place" class="form-control" onchange="ajax_save_candidate_status('hired')">
                                                    <option value=""></option>
                                                    @for (int i = 0; i < ViewBag.data_emirate_rs.Count; i++)
                                                    {
                                                        string tbl_emirate_id = CF.getData(i, "tbl_emirate_id", ViewBag.data_emirate_rs);
                                                        string emirate_name_en = CF.getData(i, "emirate_name_en", ViewBag.data_emirate_rs);
                                                        <option value="@tbl_emirate_id">@emirate_name_en</option>
                                                    }
                                                </select>
                                            </div>

                                            <div class="col-lg-1"></div>

                                            <div class="col-lg-1">
                                                @CF.trans_code("en", "c40", "Hired By"):
                                                <select name="candidate_hired_by" id="candidate_hired_by" class="form-control" onchange="ajax_save_candidate_status('hired')">
                                                    <option value=""></option>
                                                    @for (int i = 0; i < ViewBag.data_employer_rs.Count; i++)
                                                    {
                                                        string tbl_employer_id = CF.getData(i, "tbl_employer_id", ViewBag.data_employer_rs);
                                                        string employer_en = CF.getData(i, "employer_en", ViewBag.data_employer_rs);
                                                        <option value="@tbl_employer_id">@employer_en</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs" id="myTab" role="tablist">

                                        <li class="nav-item" style="display:block !important">
                                            <a class="nav-link show active" id="profile-tab-z" data-toggle="tab" href="#registered_data" role="tab" aria-controls="profile" aria-selected="true">@CF.trans_code("en", "c41", "Register Data")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="home-tab-z" data-toggle="tab" href="#notes" role="tab" aria-controls="home" aria-selected="false">@CF.trans_code("en", "c42", "Notes")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="personal_data-tab-z" data-toggle="tab" href="#personal_data" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c43", "Personal Data")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="academic_qualification_user-tab-z" data-toggle="tab" href="#academic_qualification_user" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c44", "Academic Qualifications")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="experience-tab-z" data-toggle="tab" href="#experience_user" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c45", "Experience")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="jobs-tab-z" data-toggle="tab" href="#job_user" role="tab" aria-controls="contact" aria-selected="false">Jobs</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="languages-tab-z" data-toggle="tab" href="#language_user" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c96", "Languages")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="attachments-tab-z" data-toggle="tab" href="#attachments" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c47", "Attachments")</a>
                                        </li>

                                    </ul>
                                    <div class="tab-content" id="myTabContent1">

                                        <div class="tab-pane fade active show" id="registered_data" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div style="max-width:700px; margin:0 auto;">
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c48", "Name")</label>
                                                    <input type="text" class="form-control" id="candidate_name" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c49", "Second Name")</label>
                                                    <input type="text" class="form-control" id="candidate_second_name" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c50", "Third Name")</label>
                                                    <input type="text" class="form-control" id="candidate_third_name" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c51", "Last Name")</label>
                                                    <input type="text" class="form-control" id="candidate_last_name" placeholder="">
                                                </div>

                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c52", "Emirates ID")</label>
                                                    <input type="text" class="form-control" id="candidate_emirates_id" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c53", "Email")</label>
                                                    <input type="text" class="form-control" id="candidate_email" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c54", "Password")</label>
                                                    <input type="password" class="form-control" id="candidate_password" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c55", "Confirm Password")</label>
                                                    <input type="password" class="form-control" id="candidate_confirm_password" placeholder="">
                                                </div>
                                                <div class="form-group text-center">
                                                    <button type="button" class="btn btn-success" onclick="ajax_create()">@CF.trans_code("en", "c95", "Save")</button>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="notes" role="tabpanel" aria-labelledby="home-tab">
                                            <br>
                                            <div class="form-group">
                                                <textarea id="candidate_notes" name="candidate_notes" style="width:100%" class="candidate_notes"></textarea>
                                            </div>
                                            <div class="form-group text-center">
                                                <button type="button" class="btn btn-success" onclick="ajax_save_notes()">@CF.trans_code("en", "c95", "Save")</button>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="personal_data" role="tabpanel" aria-labelledby="contact-tab">
                                            <br>
                                            <div style="max-width:1000px; margin:0 auto;">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c56", "Nationality")</label>
                                                            <select name="candidate_nationality" id="candidate_nationality" class="form-control" onchange="show_hide_nationality_block()">
                                                                <option value=""></option>
                                                                @for (int i = 0; i < ViewBag.data_country_rs.Count; i++)
                                                                {
                                                                    string tbl_country_id = CF.getData(i, "tbl_country_id", ViewBag.data_country_rs);
                                                                    string country_name_en = CF.getData(i, "country_name_en", ViewBag.data_country_rs);
                                                                    string country_name_ar = CF.getData(i, "country_name_ar", ViewBag.data_country_rs);
                                                                    string country_name_ = country_name_en;
                                                                    if (ViewBag.lan == "ar") { country_name_ = country_name_ar; }
                                                                    <option value="@tbl_country_id">@country_name_</option>
                                                                }
                                                            </select>
                                                        </div>
                                                        <div id="nationality_block">
                                                            <div class="form-group" style="padding-bottom:4px;">
                                                                <label for="inputAddress">@CF.trans_code("en", "c57", "UAE Citizens Sons")</label>
                                                                <div class="m-b-10">
                                                                    <div class="custom-control custom-radio custom-control-inline">
                                                                        <input type="radio" id="candidate_uae_citizen_sons_yes" name="candidate_uae_citizen_sons" class="custom-control-input" value="yes">
                                                                        <label class="custom-control-label" for="candidate_uae_citizen_sons_yes">
                                                                            @CF.trans_code("en", "c76", "Yes")
                                                                        </label>
                                                                    </div>
                                                                    <div class="custom-control custom-radio custom-control-inline">
                                                                        <input type="radio" id="candidate_uae_citizen_sons_no" name="candidate_uae_citizen_sons" class="custom-control-input" value="no">
                                                                        <label class="custom-control-label" for="candidate_uae_citizen_sons_no">
                                                                            @CF.trans_code("en", "c79", "No")
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label for="inputAddress">Visa Status</label>
                                                                <select name="candidate_visa_status" id="candidate_visa_status" class="form-control">
                                                                    <option value=""></option>
                                                                    @for (int i = 0; i < ViewBag.data_visa_status_rs.Count; i++)
                                                                    {
                                                                        string tbl_visa_status_id = CF.getData(i, "tbl_visa_status_id", ViewBag.data_visa_status_rs);
                                                                        string visa_status_name_en = CF.getData(i, "visa_status_name_en", ViewBag.data_visa_status_rs);
                                                                        string visa_status_name_ar = CF.getData(i, "visa_status_name_ar", ViewBag.data_visa_status_rs);
                                                                        string visa_status_name_ = visa_status_name_en;
                                                                        if (ViewBag.lan == "ar") { visa_status_name_ = visa_status_name_ar; }
                                                                        <option value="@tbl_visa_status_id">@visa_status_name_</option>
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c59", "Passport")</label>
                                                            <input type="text" class="form-control" id="candidate_passport_no" placeholder="">
                                                        </div>
                                                        <div class="form-group" style="padding-bottom:4px;">
                                                            <label for="inputAddress">@CF.trans_code("en", "c60", "Gender")</label>
                                                            <div class="m-b-10">
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" id="male" name="candidate_gender" class="custom-control-input" value="male">
                                                                    <label class="custom-control-label" for="male">
                                                                        @CF.trans_code("en", "c61", "Male")
                                                                    </label>
                                                                </div>
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" id="female" name="candidate_gender" class="custom-control-input" value="female">
                                                                    <label class="custom-control-label" for="female">
                                                                        @CF.trans_code("en", "c62", "Female")
                                                                    </label>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c63", "Birth Date")</label>
                                                            <input type="text" class="form-control datepicker" id="candidate_birth_date" placeholder="">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c64", "Marital Status")</label>
                                                            <select name="candidate_marital_status" id="candidate_marital_status" class="form-control">
                                                                <option value=""></option>
                                                                @for (int i = 0; i < ViewBag.data_marital_status_rs.Count; i++)
                                                                {
                                                                    string tbl_marital_status_id = CF.getData(i, "tbl_marital_status_id", ViewBag.data_marital_status_rs);
                                                                    string marital_status_name_en = CF.getData(i, "marital_status_name_en", ViewBag.data_marital_status_rs);
                                                                    string marital_status_name_ar = CF.getData(i, "marital_status_name_ar", ViewBag.data_marital_status_rs);
                                                                    string marital_status_name_ = marital_status_name_en;
                                                                    if (ViewBag.lan == "ar") { marital_status_name_ = marital_status_name_ar; }
                                                                    <option value="@tbl_marital_status_id">@marital_status_name_</option>
                                                                }
                                                            </select>
                                                        </div>
                                                        @*<div class="form-group">
                                                                <label for="inputAddress">@CF.trans_code("en", "c65", "Emirate")</label>
                                                                <select name="candidate_emirate" id="candidate_emirate" class="form-control">
                                                                    <option value=""></option>
                                                                    <option value="abu_dhabi">@CF.trans_code("en", "c66", "Abu Dhabi")</option>
                                                                    <option value="dubai">@CF.trans_code("en", "c67", "Dubai")</option>
                                                                    <option value="fujairah">@CF.trans_code("en", "c68", "Fujairah")</option>
                                                                    <option value="ras_al_khaimah">@CF.trans_code("en", "c69", "Ras Al Khaimah")</option>
                                                                    <option value="sharjah">@CF.trans_code("en", "c70", "Sharjah")</option>
                                                                    <option value="umm_al_quwain">@CF.trans_code("en", "c71", "Umm Al Quwain")</option>
                                                                </select>
                                                            </div>*@

                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c88", "City")</label>
                                                            <input type="text" class="form-control" id="candidate_city" placeholder="">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c72", "Mobile No 1")</label>
                                                            <input type="text" class="form-control" name="candidate_mobile_no1" id="candidate_mobile_no1" placeholder="">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c73", "Mobile No 2")</label>
                                                            <input type="text" class="form-control" name="candidate_mobile_no2" id="candidate_mobile_no2" placeholder="">
                                                        </div>

                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c74", "Driver License")</label>
                                                            <input type="text" class="form-control" id="candidate_driver_license" placeholder="">
                                                        </div>

                                                        <div class="form-group" style="padding-bottom:4px;">
                                                            <label for="inputAddress">@CF.trans_code("en", "c75", "Are You Disabled?")</label>
                                                            <div class="m-b-10">
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" id="candidate_is_disabled_yes" name="candidate_is_disabled" class="custom-control-input" value="yes">
                                                                    <label class="custom-control-label" for="candidate_is_disabled_yes">
                                                                        @CF.trans_code("en", "c76", "Yes")
                                                                    </label>
                                                                </div>
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" id="candidate_is_disabled_no" name="candidate_is_disabled" class="custom-control-input" value="no">
                                                                    <label class="custom-control-label" for="candidate_is_disabled_no">@CF.trans_code("en", "c79", "No")
                                                                    </label>
                                                                </div>

                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c77", "Employment Status")</label>
                                                            <select name="candidate_employment_status" id="candidate_employment_status" class="form-control">
                                                                <option value=""></option>
                                                                @for (int i = 0; i < ViewBag.data_employment_status_rs.Count; i++)
                                                                {
                                                                    string tbl_employment_status_id = CF.getData(i, "tbl_employment_status_id", ViewBag.data_employment_status_rs);
                                                                    string employment_status_name_en = CF.getData(i, "employment_status_name_en", ViewBag.data_employment_status_rs);
                                                                    string employment_status_name_ar = CF.getData(i, "employment_status_name_ar", ViewBag.data_employment_status_rs);
                                                                    string employment_status_name_ = employment_status_name_en;
                                                                    if (ViewBag.lan == "ar") { employment_status_name_ = employment_status_name_ar; }
                                                                    <option value="@tbl_employment_status_id">@employment_status_name_</option>
                                                                }
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group text-center">
                                                    <button type="button" class="btn btn-success" onclick="ajax_save_personal_data()">@CF.trans_code("en", "c95", "Save")</button>
                                                </div>
                                            </div>
                                        </div>



                                        <div class="tab-pane fade" id="academic_qualification_user" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div>
                                                <div class="card-body" style="margin:0 auto; max-width:800px;">
                                                    <div class="col-md-12">
                                                        <div class="col-md-5">
                                                            <div class="form_fields">
                                                                <label for="">@CF.trans_code("en", "c78", "I want to complete my studies")</label>
                                                            </div>
                                                        </div>
                                                        <div class="col-md-7">
                                                            <div class="form_fields gender_w">
                                                                <div class="col-md-6"> <input class="radio_btn" id="want_to_complete_studies_yes" type="radio" name="want_to_complete_studies" value="yes">@CF.trans_code("en", "c76", "Yes")</div>
                                                                <div class="col-md-6"> <input class="radio_btn" id="want_to_complete_studies_no" type="radio" name="want_to_complete_studies" value="no" checked>@CF.trans_code("en", "c79", "No")</div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>
                                                <div class="card-body" style="margin:0 auto; max-width:800px;">
                                                    <div class="accordion alternate-icons" id="accordian_academic_qualification_user">

                                                        @{ string tbl_academic_qualification_user_id = CF.rand(); }

                                                        <div class="card" id="@tbl_academic_qualification_user_id">
                                                            <div class="card-header" style="position:relative">
                                                                <h5 class="mb-0">
                                                                    <a href="#!" class="d-block" data-toggle="collapse" data-target="#academic_qualification_user_1" aria-expanded="false">
                                                                        <div class="num">1</div>
                                                                    </a>
                                                                </h5>
                                                                <h1 class="mdi mdi-close delete-btn" data-module="academic_qualification_user"></h1>
                                                            </div>

                                                            <div id="academic_qualification_user_1" class="collapse" data-parent="#accordian_academic_qualification_user">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-lg-12">

                                                                            <input type="hidden" name="tbl_academic_qualification_user_id" value="@tbl_academic_qualification_user_id" />

                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c80", "Educational Level")</label>
                                                                                <select name="tbl_educational_level_id" class="form-control">
                                                                                    @for (int i = 0; i < ViewBag.data_educational_level_rs.Count; i++)
                                                                                    {
                                                                                        int serial_num = i + 1;
                                                                                        string tbl_educational_level_id = CF.getData(i, "tbl_educational_level_id", ViewBag.data_educational_level_rs);
                                                                                        string educational_level_en = CF.getData(i, "educational_level_en", ViewBag.data_educational_level_rs);
                                                                                        <option value="@tbl_educational_level_id">@educational_level_en</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c81", "Educational Institute")</label>
                                                                                <select name="tbl_educational_institute_id" class="form-control">
                                                                                    @for (int i = 0; i < ViewBag.data_educational_institute_rs.Count; i++)
                                                                                    {
                                                                                        string tbl_educational_institute_id = CF.getData(i, "tbl_educational_institute_id", ViewBag.data_educational_institute_rs);
                                                                                        string educational_institute_en = CF.getData(i, "educational_institute_en", ViewBag.data_educational_institute_rs);
                                                                                        <option value="@tbl_educational_institute_id">@educational_institute_en</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c82", "Speciality")</label>
                                                                                <select name="tbl_speciality_id" class="form-control">
                                                                                    @for (int i = 0; i < ViewBag.data_speciality_rs.Count; i++)
                                                                                    {
                                                                                        string tbl_speciality_id = CF.getData(i, "tbl_speciality_id", ViewBag.data_speciality_rs);
                                                                                        string speciality_en = CF.getData(i, "speciality_en", ViewBag.data_speciality_rs);
                                                                                        <option value="@tbl_speciality_id">@speciality_en</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c83", "Speciality Details")</label>
                                                                                <textarea class="form-control speciality_details" name="speciality_details" id="speciality_details@{@tbl_academic_qualification_user_id}" placeholder=""></textarea>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c84", "Year of Graduation")</label>
                                                                                <select name="graduation_year" class="form-control">
                                                                                    @{ int graduation_year = Convert.ToInt32(DateTime.Now.ToString("yyyy"));}
                                                                                    @for (int i = 1940; i <= graduation_year; i++)
                                                                                    {
                                                                                        <option value="@i">@i</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                    </div>

                                                    <br>

                                                    <div class="form-group">
                                                        <button type="button" class="btn btn-info add_new_btn" onclick="add_new_academic_qualification_user('','','','','','')">+</button>
                                                    </div>
                                                    <div class="form-group text-center">
                                                        <button type="button" class="btn btn-success" onclick="ajax_save_academic_qualification_user()">@CF.trans_code("en", "c95", "Save")</button>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>





                                        <div class="tab-pane fade" id="experience_user" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div>
                                                <div class="card-body" style="margin:0 auto; max-width:800px;">
                                                    <div class="accordion alternate-icons" id="accordian_experience_user">

                                                        @{ string tbl_experience_user_id = CF.rand(); }

                                                        <div class="card" id="@tbl_experience_user_id">
                                                            <div class="card-header" style="position:relative">
                                                                <h5 class="mb-0">
                                                                    <a href="#!" class="d-block" data-toggle="collapse" data-target="#experience_user_1" aria-expanded="false">
                                                                        <div class="num">1</div>
                                                                    </a>
                                                                </h5>
                                                                <h1 class="mdi mdi-close delete-btn" data-module="experience_user"></h1>
                                                            </div>

                                                            <div id="experience_user_1" class="collapse" data-parent="#accordian_experience_user">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-lg-12">

                                                                            <input type="hidden" name="tbl_experience_user_id" value="@tbl_experience_user_id" />

                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c85", "Entity")</label>
                                                                                <input type="text" class="form-control" name="entity_name" placeholder="">
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c86", "Job Title")</label>
                                                                                <input type="text" class="form-control" name="job_title" placeholder="">
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c87", "Country")</label>
                                                                                <select name="tbl_country_id" id="tbl_country_id1" class="form-control" onchange="get_cities_ajax('1','')">
                                                                                    <option value=""></option>
                                                                                    @for (int i = 0; i < ViewBag.data_country_rs.Count; i++)
                                                                                    {
                                                                                        string tbl_country_id = CF.getData(i, "tbl_country_id", ViewBag.data_country_rs);
                                                                                        string country_name_en = CF.getData(i, "country_name_en", ViewBag.data_country_rs);
                                                                                        <option value="@tbl_country_id">@country_name_en</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c88", "City")</label>
                                                                                <select name="tbl_city_id" id="tbl_city_id1" class="form-control" onchange="get_cities_ajax('1','')">
                                                                                    <option value=""></option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-lg-6" style="padding-left:0px !important">
                                                                                    <div class="form-group">
                                                                                        <label for="inputAddress">@CF.trans_code("en", "c89", "From")</label>
                                                                                        <input type="text" name="date_from" class="form-control datepicker" id="" placeholder="">
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-lg-6" style="padding-right:0px !important">
                                                                                    <div class="form-group">
                                                                                        <label for="inputAddress">@CF.trans_code("en", "c90", "To")</label>
                                                                                        <input type="text" name="date_to" class="form-control datepicker" id="" placeholder="">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c91", "Reason For Resigning")</label>
                                                                                <textarea class="form-control reason_for_resigning" name="reason_for_resigning" id="reason_for_resigning@{@tbl_experience_user_id}" placeholder=""></textarea>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                    </div>

                                                    <br>

                                                    <div class="form-group">
                                                        <button type="button" class="btn add_new_btn btn-info" onclick="add_new_experience_user('','','','','','','','')">+</button>
                                                    </div>

                                                    <div class="form-group text-center">
                                                        <button type="button" class="btn btn-success" onclick="ajax_save_experience_user()">@CF.trans_code("en", "c95", "Save")</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>





                                        <div class="tab-pane fade" id="job_user" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div>
                                                <div class="card-body" style="margin:0 auto; max-width:800px;">
                                                    <div class="accordion alternate-icons" id="accordian_job_user">

                                                        @{ string tbl_job_user_id = CF.rand(); }

                                                        <div class="card" id="@tbl_job_user_id">
                                                            <div class="card-header" style="position:relative">
                                                                <h5 class="mb-0">
                                                                    <a href="#!" class="d-block" data-toggle="collapse" data-target="#job_user_1" aria-expanded="false">
                                                                        <div class="num">1</div>
                                                                    </a>
                                                                </h5>
                                                                <h1 class="mdi mdi-close delete-btn" data-module="job_user"></h1>
                                                            </div>

                                                            <div id="job_user_1" class="collapse" data-parent="#accordian_job_user">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-lg-12">

                                                                            <input type="hidden" name="tbl_job_user_id" value="@tbl_job_user_id" />

                                                                            <div class="form-group">
                                                                                <label for="inputAddress">Job Name</label>
                                                                                <input type="text" class="form-control" name="job_name" placeholder="">
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">Job Location</label>
                                                                                <input type="text" class="form-control" name="job_location" placeholder="">
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">Job Length</label>
                                                                                <input type="text" class="form-control" name="job_length" placeholder="">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                    </div>

                                                    <br>

                                                    <div class="form-group">
                                                        <button type="button" class="btn add_new_btn btn-info" onclick="add_new_job_user('','','','')">+</button>
                                                    </div>

                                                    <div class="form-group text-center">
                                                        <button type="button" class="btn btn-success" onclick="ajax_save_job_user()">@CF.trans_code("en", "c95", "Save")</button>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade show" id="language_user" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div style="max-width:700px; margin:0 auto;">
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c96", "Languages")</label>
                                                    @{
                                                        for (int i = 0; i < ViewBag.data_language_rs.Count; i++)
                                                        {
                                                            string tbl_language_id = CF.getData(i, "tbl_language_id", ViewBag.data_language_rs);
                                                            string language_name_en = CF.getData(i, "language_name_en", ViewBag.data_language_rs);
                                                            string language_name_ar = CF.getData(i, "language_name_ar", ViewBag.data_language_rs);
                                                            string language_name = language_name_en;

                                                            if (ViewBag.lan == "ar") { language_name = language_name_ar; }

                                                            <div>
                                                                <input id="@tbl_language_id" data-sortorder="2" type="checkbox" class="checkbox_language" name="tbl_language_id" value="@tbl_language_id">@language_name
                                                                <br>
                                                            </div>
                                                        }
                                                    }
                                                </div>

                                                <div class="form-group">
                                                    <label for="inputAddress">Details About Skills</label>
                                                    <textarea class="form-control details_about_skills" name="details_about_skills" id="details_about_skills" placeholder=""></textarea>
                                                </div>

                                                <div class="form-group text-center">
                                                    <button type="button" class="btn btn-success" onclick="ajax_save_language_user()">@CF.trans_code("en", "c95", "Save")</button>
                                                </div>

                                            </div>
                                        </div>




                                        <div class="tab-pane fade" id="attachments" role="tabpanel" aria-labelledby="contact-tab">
                                            <br><br><br><br>
                                            <div style="max-width:900px; margin:0 auto; min-height:500px;">

                                                <table id="file_list" class="table table-striped table-bordered table-hover table-checkable order-column no-footer th-align" width="100%" border="1" cellspacing="0" cellpadding="0" style="display:none;">
                                                    <tr>
                                                        <th align="center" class="th-align-center" width="25%">File</th>
                                                        <th align="center" class="th-align-center" width="40%">Comments</th>
                                                        <th align="center" class="th-align-center" width="25%">Document Type</th>
                                                        <th align="center" class="th-align-center">Action</th>
                                                    </tr>

                                                </table>
                                                <div class="row text-center">
                                                    <div class="row-elem">
                                                        <select class="bs-select form-control" data-style="btn-primary" id="tbl_document_type_id">
                                                            @{
                                                                for (int i = 0; i < ViewBag.total_document_type_rs; i++)
                                                                {
                                                                    string tbl_document_type_id = CF.getData(i, "tbl_document_type_id", ViewBag.data_document_type_rs);
                                                                    string document_type_en = CF.getData(i, "document_type_en", ViewBag.data_document_type_rs);
                                                                    string document_type_ar = CF.getData(i, "document_type_ar", ViewBag.data_document_type_rs);
                                                                    string document_type = document_type_en;
                                                                    if (ViewBag.lan_sess == "ar")
                                                                    {
                                                                        document_type = document_type_ar;
                                                                    }
                                                                    <option data-value="@document_type" value="@tbl_document_type_id" title="@document_type">@document_type</option>
                                                                }
                                                            }
                                                        </select>
                                                    </div>
                                                    <div class="row-elem">
                                                        <div class="input-icon">
                                                            <i class="fa fa-commenting"></i>
                                                            <input type="text" class="form-control" placeholder="Comments" id="file_comments">
                                                        </div>
                                                    </div>
                                                    <div class="row-elem">
                                                        <div class="input-icon">
                                                            <span>
                                                                <label for="file_upload" class="btn btn-primary btn-bordered">Upload</label>
                                                                <input type="file" id="file_upload" class="btn-default" style="display:none;" />
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <!--card ends-->
                        </div>
                    </form>
                        @*<div class="form-group">
                            <button class="btn btn-primary" onclick="ajax_create()">@CF.trans_code("en", "c122", "Submit")</button>
                        </div>*@
                </div>
            </div>
        </div>
    </div>
</div>
<!-- MODAL ADD END -->
<!-- MODAL EDIT START -->
<div id="modal_edit" class="modal fade bd-example-modal-lg" tabindex="-1" role="dialog" aria-labelledby="modal_edit" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="card m-b-30">
                <div class="card-header">
                    <h5 class="m-b-0">
                        Job Seeker Manager
                    </h5>
                    <p class="m-b-0 text-muted">
                        Edit Job Seeker
                    </p>
                </div>
                <div class="card-body ">
                    <form id="frm_edit" name="frm_edit">
                        <div>
                            <!--card begins-->
                            <div class="card m-b-30">
                                <div class="card-header" id="picture_section">
                                    <div class="card-title">
                                        @*<img src="~/Content/uploads/5a.jpg" style="border-radius:50%; width:80px; height:80px; padding:2px; border:1px solid #E2EAF6" />*@
                                        <span style="position:relative; top:-10px;">
                                            <div class="picture-box" id="picture" style="display:none"></div>
                                            <div class="input-icon" id="fu-picture-image">
                                                <span>
                                                    <label for="file_upload_picture" class="btn btn-primary btn-bordered">@CF.trans_code("en", "c34", "Upload Picture")</label>
                                                    <input type="file" id="file_upload_picture" class="btn-default" style="display:none" />
                                                </span>
                                            </div>
                                        </span>
                                    </div>

                                    <div>
                                        <div class="m-b-10">
                                            <p class="font-secondary">

                                            </p>
                                            <div class="custom-control custom-radio custom-control-inline">
                                                <input type="radio" id="customRadioInline1_edit" name="customRadioInline1" class="custom-control-input" onchange="ajax_save_candidate_status('hired')">
                                                <label class="custom-control-label" for="customRadioInline1_edit">
                                                    @CF.trans_code("en", "c35", "Hired")
                                                </label>
                                            </div>
                                            <div class="custom-control custom-radio custom-control-inline">
                                                <input type="radio" id="customRadioInline2_edit" name="customRadioInline1" class="custom-control-input" onchange="ajax_save_candidate_status('archieve')">
                                                <label class="custom-control-label" for="customRadioInline2_edit">
                                                    @CF.trans_code("en", "c36", "Archieve")
                                                </label>
                                            </div>
                                            <div class="custom-control custom-radio custom-control-inline">
                                                <input type="radio" id="customRadioInline3_edit" name="customRadioInline1" class="custom-control-input" onchange="ajax_save_candidate_status('active')">
                                                <label class="custom-control-label" for="customRadioInline3_edit">
                                                    @CF.trans_code("en", "c37", "Active"))
                                                </label>
                                            </div>
                                        </div>
                                    </div>

                                    <div id="hired_block" style="display:none">
                                        <div class="row">
                                            <div class="col-lg-1">
                                                @CF.trans_code("en", "c38", "Date"):
                                                <input type="text" class="form-control datepicker" name="candidate_hired_date_edit" id="candidate_hired_date_edit" style="padding:0px; text-align:center;" onchange="ajax_save_candidate_status('hired')" />
                                            </div>

                                            <div class="col-lg-1"></div>

                                            <div class="col-lg-1">
                                                @CF.trans_code("en", "c39", "Place"):
                                                <select name="candidate_hired_place" id="candidate_hired_place" class="form-control" onchange="ajax_save_candidate_status('hired')">
                                                    <option value=""></option>
                                                    @for (int i = 0; i < ViewBag.data_emirate_rs.Count; i++)
                                                    {
                                                        string tbl_emirate_id = CF.getData(i, "tbl_emirate_id", ViewBag.data_emirate_rs);
                                                        string emirate_name_en = CF.getData(i, "emirate_name_en", ViewBag.data_emirate_rs);
                                                        <option value="@tbl_emirate_id">@emirate_name_en</option>
                                                    }
                                                </select>
                                            </div>

                                            <div class="col-lg-1"></div>

                                            <div class="col-lg-1">
                                                @CF.trans_code("en", "c40", "Hired By"):
                                                <select name="candidate_hired_by" id="candidate_hired_by" class="form-control" onchange="ajax_save_candidate_status('hired')">
                                                    <option value=""></option>
                                                    @for (int i = 0; i < ViewBag.data_employer_rs.Count; i++)
                                                    {
                                                        string tbl_employer_id = CF.getData(i, "tbl_employer_id", ViewBag.data_employer_rs);
                                                        string employer_en = CF.getData(i, "employer_en", ViewBag.data_employer_rs);
                                                        <option value="@tbl_employer_id">@employer_en</option>
                                                    }
                                                </select>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                                <div class="card-body">
                                    <ul class="nav nav-tabs" id="myTab" role="tablist">

                                        <li class="nav-item" style="display:block !important">
                                            <a class="nav-link show active" id="profile-tab-z" data-toggle="tab" href="#registered_data_edit" role="tab" aria-controls="profile" aria-selected="true">@CF.trans_code("en", "c41", "Register Data")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="home-tab-z" data-toggle="tab" href="#notes_edit" role="tab" aria-controls="home" aria-selected="false">@CF.trans_code("en", "c42", "Notes")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="personal_data-tab-z" data-toggle="tab" href="#personal_data_edit" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c43", "Personal Data")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="academic_qualification_user-tab-z" data-toggle="tab" href="#academic_qualification_user_edit" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c44", "Academic Qualifications")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="experience-tab-z" data-toggle="tab" href="#experience_user_edit" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c45", "Experience")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="jobs-tab-z" data-toggle="tab" href="#job_user_edit" role="tab" aria-controls="contact" aria-selected="false">Jobs</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="languages-tab-z" data-toggle="tab" href="#language_user_edit" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c96", "Languages")</a>
                                        </li>
                                        <li class="nav-item hide-div">
                                            <a class="nav-link show" id="attachments-tab-z" data-toggle="tab" href="#attachments_edit" role="tab" aria-controls="contact" aria-selected="false">@CF.trans_code("en", "c47", "Attachments")</a>
                                        </li>

                                    </ul>
                                    <div class="tab-content" id="myTabContent1">

                                        <div class="tab-pane fade active show" id="registered_data_edit" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div style="max-width:700px; margin:0 auto;">
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c48", "Name")</label>
                                                    <input type="text" class="form-control" id="candidate_name" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c49", "Second Name")</label>
                                                    <input type="text" class="form-control" id="candidate_second_name" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c50", "Third Name")</label>
                                                    <input type="text" class="form-control" id="candidate_third_name" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c51", "Last Name")</label>
                                                    <input type="text" class="form-control" id="candidate_last_name" placeholder="">
                                                </div>

                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c52", "Emirates ID")</label>
                                                    <input type="text" class="form-control" id="candidate_emirates_id" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c53", "Email")</label>
                                                    <input type="text" class="form-control" id="candidate_email" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c54", "Password")</label>
                                                    <input type="password" class="form-control" id="candidate_password" placeholder="">
                                                </div>
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c55", "Confirm Password")</label>
                                                    <input type="password" class="form-control" id="candidate_confirm_password" placeholder="">
                                                </div>

                                                <div class="form-group text-center">
                                                    <button type="button" class="btn btn-success" onclick="ajax_create()">@CF.trans_code("en", "c95", "Save")</button>
                                                </div>

                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="notes_edit" role="tabpanel" aria-labelledby="home-tab">
                                            <br>
                                            <div class="form-group">
                                                <textarea id="candidate_notes_edit" name="candidate_notes_edit" style="width:100%" class="candidate_notes"></textarea>
                                            </div>
                                            <div class="form-group text-center">
                                                <button type="button" class="btn btn-success" onclick="ajax_save_notes()">@CF.trans_code("en", "c95", "Save")</button>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade" id="personal_data_edit" role="tabpanel" aria-labelledby="contact-tab">
                                            <br>
                                            <div style="max-width:1000px; margin:0 auto;">
                                                <div class="row">
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c56", "Nationality")</label>
                                                            <select name="candidate_nationality" id="candidate_nationality" class="form-control" onchange="show_hide_nationality_block()">
                                                                <option value=""></option>
                                                                @for (int i = 0; i < ViewBag.data_country_rs.Count; i++)
                                                                {
                                                                    string tbl_country_id = CF.getData(i, "tbl_country_id", ViewBag.data_country_rs);
                                                                    string country_name_en = CF.getData(i, "country_name_en", ViewBag.data_country_rs);
                                                                    string country_name_ar = CF.getData(i, "country_name_ar", ViewBag.data_country_rs);
                                                                    string country_name_ = country_name_en;
                                                                    if (ViewBag.lan == "ar") { country_name_ = country_name_ar; }
                                                                    <option value="@tbl_country_id">@country_name_</option>
                                                                }
                                                            </select>
                                                        </div>
                                                        <div id="nationality_block">
                                                            <div class="form-group" style="padding-bottom:4px;">
                                                                <label for="inputAddress">@CF.trans_code("en", "c57", "UAE Citizens Sons")</label>
                                                                <div class="m-b-10">
                                                                    <div class="custom-control custom-radio custom-control-inline">
                                                                        <input type="radio" id="candidate_uae_citizen_sons_yes_edit" name="candidate_uae_citizen_sons" class="custom-control-input" value="yes">
                                                                        <label class="custom-control-label" for="candidate_uae_citizen_sons_yes_edit">
                                                                            @CF.trans_code("en", "c76", "Yes")
                                                                        </label>
                                                                    </div>
                                                                    <div class="custom-control custom-radio custom-control-inline">
                                                                        <input type="radio" id="candidate_uae_citizen_sons_no_edit" name="candidate_uae_citizen_sons" class="custom-control-input" value="no">
                                                                        <label class="custom-control-label" for="candidate_uae_citizen_sons_no_edit">
                                                                            @CF.trans_code("en", "c79", "No")
                                                                        </label>
                                                                    </div>
                                                                </div>
                                                            </div>

                                                            <div class="form-group">
                                                                <label for="inputAddress">Visa Status</label>
                                                                <select name="candidate_visa_status" id="candidate_visa_status" class="form-control">
                                                                    <option value=""></option>
                                                                    @for (int i = 0; i < ViewBag.data_visa_status_rs.Count; i++)
                                                                    {
                                                                        string tbl_visa_status_id = CF.getData(i, "tbl_visa_status_id", ViewBag.data_visa_status_rs);
                                                                        string visa_status_name_en = CF.getData(i, "visa_status_name_en", ViewBag.data_visa_status_rs);
                                                                        string visa_status_name_ar = CF.getData(i, "visa_status_name_ar", ViewBag.data_visa_status_rs);
                                                                        string visa_status_name_ = visa_status_name_en;
                                                                        if (ViewBag.lan == "ar") { visa_status_name_ = visa_status_name_ar; }
                                                                        <option value="@tbl_visa_status_id">@visa_status_name_</option>
                                                                    }
                                                                </select>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c59", "Passport")</label>
                                                            <input type="text" class="form-control" id="candidate_passport_no" placeholder="">
                                                        </div>
                                                        <div class="form-group" style="padding-bottom:4px;">
                                                            <label for="inputAddress">@CF.trans_code("en", "c60", "Gender")</label>
                                                            <div class="m-b-10">
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" id="male_edit" name="candidate_gender" class="custom-control-input" value="male">
                                                                    <label class="custom-control-label" for="male_edit">
                                                                        @CF.trans_code("en", "c61", "Male")
                                                                    </label>
                                                                </div>
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" id="female_edit" name="candidate_gender" class="custom-control-input" value="female">
                                                                    <label class="custom-control-label" for="female_edit">
                                                                        @CF.trans_code("en", "c62", "Female")
                                                                    </label>
                                                                </div>

                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c63", "Birth Date")</label>
                                                            <input type="text" class="form-control datepicker" id="candidate_birth_date_edit" placeholder="">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c64", "Marital Status")</label>
                                                            <select name="candidate_marital_status" id="candidate_marital_status" class="form-control">
                                                                <option value=""></option>
                                                                @for (int i = 0; i < ViewBag.data_marital_status_rs.Count; i++)
                                                                {
                                                                    string tbl_marital_status_id = CF.getData(i, "tbl_marital_status_id", ViewBag.data_marital_status_rs);
                                                                    string marital_status_name_en = CF.getData(i, "marital_status_name_en", ViewBag.data_marital_status_rs);
                                                                    string marital_status_name_ar = CF.getData(i, "marital_status_name_ar", ViewBag.data_marital_status_rs);
                                                                    string marital_status_name_ = marital_status_name_en;
                                                                    if (ViewBag.lan == "ar") { marital_status_name_ = marital_status_name_ar; }
                                                                    <option value="@tbl_marital_status_id">@marital_status_name_</option>
                                                                }
                                                            </select>
                                                        </div>
                                                        @*<div class="form-group">
                                                                <label for="inputAddress">@CF.trans_code("en", "c65", "Emirate")</label>
                                                                <select name="candidate_emirate" id="candidate_emirate" class="form-control">
                                                                    <option value=""></option>
                                                                    <option value="abu_dhabi">@CF.trans_code("en", "c66", "Abu Dhabi")</option>
                                                                    <option value="dubai">@CF.trans_code("en", "c67", "Dubai")</option>
                                                                    <option value="fujairah">@CF.trans_code("en", "c68", "Fujairah")</option>
                                                                    <option value="ras_al_khaimah">@CF.trans_code("en", "c69", "Ras Al Khaimah")</option>
                                                                    <option value="sharjah">@CF.trans_code("en", "c70", "Sharjah")</option>
                                                                    <option value="umm_al_quwain">@CF.trans_code("en", "c71", "Umm Al Quwain")</option>

                                                                </select>
                                                            </div>*@

                                                    </div>
                                                    <div class="col-lg-6">
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c88", "City")</label>
                                                            <input type="text" class="form-control" id="candidate_city" placeholder="">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c72", "Mobile No 1")</label>
                                                            <input type="text" class="form-control" name="candidate_mobile_no1" id="candidate_mobile_no1" placeholder="">
                                                        </div>
                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c73", "Mobile No 2")</label>
                                                            <input type="text" class="form-control" name="candidate_mobile_no2" id="candidate_mobile_no2" placeholder="">
                                                        </div>

                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c74", "Driver License")</label>
                                                            <input type="text" class="form-control" id="candidate_driver_license" placeholder="">
                                                        </div>

                                                        <div class="form-group" style="padding-bottom:4px;">
                                                            <label for="inputAddress">@CF.trans_code("en", "c75", "Are You Disabled?")</label>
                                                            <div class="m-b-10">
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" id="candidate_is_disabled_yes_edit" name="candidate_is_disabled" class="custom-control-input" value="yes">
                                                                    <label class="custom-control-label" for="candidate_is_disabled_yes_edit">
                                                                        @CF.trans_code("en", "c76", "Yes")
                                                                    </label>
                                                                </div>
                                                                <div class="custom-control custom-radio custom-control-inline">
                                                                    <input type="radio" id="candidate_is_disabled_no_edit" name="candidate_is_disabled" class="custom-control-input" value="no">
                                                                    <label class="custom-control-label" for="candidate_is_disabled_no_edit">@CF.trans_code("en", "c79", "No")<
                                                                    </label>
                                                                </div>

                                                            </div>
                                                        </div>

                                                        <div class="form-group">
                                                            <label for="inputAddress">@CF.trans_code("en", "c77", "Employment Status")</label>
                                                            <select name="candidate_employment_status" id="candidate_employment_status" class="form-control">
                                                                @for (int i = 0; i < ViewBag.data_employment_status_rs.Count; i++)
                                                                {
                                                                    string tbl_employment_status_id = CF.getData(i, "tbl_employment_status_id", ViewBag.data_employment_status_rs);
                                                                    string employment_status_name_en = CF.getData(i, "employment_status_name_en", ViewBag.data_employment_status_rs);
                                                                    string employment_status_name_ar = CF.getData(i, "employment_status_name_ar", ViewBag.data_employment_status_rs);
                                                                    string employment_status_name_ = employment_status_name_en;
                                                                    if (ViewBag.lan == "ar") { employment_status_name_ = employment_status_name_ar; }
                                                                    <option value="@tbl_employment_status_id">@employment_status_name_</option>
                                                                }
                                                            </select>
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="form-group text-center">
                                                    <button type="button" class="btn btn-success" onclick="ajax_save_personal_data()">@CF.trans_code("en", "c95", "Save")</button>
                                                </div>
                                            </div>
                                        </div>



                                        <div class="tab-pane fade" id="academic_qualification_user_edit" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div>
                                                <div class="card-body" style="margin:0 auto; max-width:800px;">
                                                    <div class="accordion alternate-icons" id="accordian_academic_qualification_user">

                                                        @{ tbl_academic_qualification_user_id = CF.rand(); }

                                                        <div class="card" id="@tbl_academic_qualification_user_id">
                                                            <div class="card-header" style="position:relative">
                                                                <h5 class="mb-0">
                                                                    <a href="#!" class="d-block" data-toggle="collapse" data-target="#academic_qualification_user_1" aria-expanded="false">
                                                                        <div class="num">1</div>
                                                                    </a>
                                                                </h5>
                                                                <h1 class="mdi mdi-close delete-btn" data-module="academic_qualification_user"></h1>
                                                            </div>

                                                            <div id="academic_qualification_user_1" class="collapse" data-parent="#accordian_academic_qualification_user">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-lg-12">

                                                                            <input type="hidden" name="tbl_academic_qualification_user_id" value="@tbl_academic_qualification_user_id" />

                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c80", "Educational Level")</label>
                                                                                <select name="tbl_educational_level_id" class="form-control">
                                                                                    @for (int i = 0; i < ViewBag.data_educational_level_rs.Count; i++)
                                                                                    {
                                                                                        int serial_num = i + 1;
                                                                                        string tbl_educational_level_id = CF.getData(i, "tbl_educational_level_id", ViewBag.data_educational_level_rs);
                                                                                        string educational_level_en = CF.getData(i, "educational_level_en", ViewBag.data_educational_level_rs);
                                                                                        <option value="@tbl_educational_level_id">@educational_level_en</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c81", "Educational Institute")</label>
                                                                                <select name="tbl_educational_institute_id" class="form-control">
                                                                                    @for (int i = 0; i < ViewBag.data_educational_institute_rs.Count; i++)
                                                                                    {
                                                                                        string tbl_educational_institute_id = CF.getData(i, "tbl_educational_institute_id", ViewBag.data_educational_institute_rs);
                                                                                        string educational_institute_en = CF.getData(i, "educational_institute_en", ViewBag.data_educational_institute_rs);
                                                                                        <option value="@tbl_educational_institute_id">@educational_institute_en</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c82", "Speciality")</label>
                                                                                <select name="tbl_speciality_id" class="form-control">
                                                                                    @for (int i = 0; i < ViewBag.data_speciality_rs.Count; i++)
                                                                                    {
                                                                                        string tbl_speciality_id = CF.getData(i, "tbl_speciality_id", ViewBag.data_speciality_rs);
                                                                                        string speciality_en = CF.getData(i, "speciality_en", ViewBag.data_speciality_rs);
                                                                                        <option value="@tbl_speciality_id">@speciality_en</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c83", "Speciality Details")</label>
                                                                                <textarea class="form-control speciality_details" name="speciality_details" id="speciality_details@{@tbl_academic_qualification_user_id}" placeholder=""></textarea>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c84", "Year of Graduation")</label>
                                                                                <select name="graduation_year" class="form-control">
                                                                                    @{ graduation_year = Convert.ToInt32(DateTime.Now.ToString("yyyy"));}
                                                                                    @for (int i = 1940; i <= graduation_year; i++)
                                                                                    {
                                                                                        <option value="@i">@i</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                    </div>

                                                    <br>

                                                    <div class="form-group">
                                                        <button type="button" class="btn btn-info add_new_btn" onclick="add_new_academic_qualification_user('','','','','','')">+</button>
                                                    </div>
                                                    <div class="form-group text-center">
                                                        <button type="button" class="btn btn-success" onclick="ajax_save_academic_qualification_user()">@CF.trans_code("en", "c95", "Save")</button>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>





                                        <div class="tab-pane fade" id="experience_user_edit" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div>
                                                <div class="card-body" style="margin:0 auto; max-width:800px;">
                                                    <div class="accordion alternate-icons" id="accordian_experience_user">

                                                        @{ tbl_experience_user_id = CF.rand(); }

                                                        <div class="card" id="@tbl_experience_user_id">
                                                            <div class="card-header" style="position:relative">
                                                                <h5 class="mb-0">
                                                                    <a href="#!" class="d-block" data-toggle="collapse" data-target="#experience_user_1" aria-expanded="false">
                                                                        <div class="num">1</div>
                                                                    </a>
                                                                </h5>
                                                                <h1 class="mdi mdi-close delete-btn" data-module="experience_user"></h1>
                                                            </div>

                                                            <div id="experience_user_1" class="collapse" data-parent="#accordian_experience_user">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-lg-12">

                                                                            <input type="hidden" name="tbl_experience_user_id" value="@tbl_experience_user_id" />

                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c85", "Entity")</label>
                                                                                <input type="text" class="form-control" name="entity_name" placeholder="">
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c86", "Job Title")</label>
                                                                                <input type="text" class="form-control" name="job_title" placeholder="">
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c87", "Country")</label>
                                                                                <select name="tbl_country_id" id="tbl_country_id1" class="form-control" onchange="get_cities_ajax('1','')">
                                                                                    <option value=""></option>
                                                                                    @for (int i = 0; i < ViewBag.data_country_rs.Count; i++)
                                                                                    {
                                                                                        string tbl_country_id = CF.getData(i, "tbl_country_id", ViewBag.data_country_rs);
                                                                                        string country_name_en = CF.getData(i, "country_name_en", ViewBag.data_country_rs);
                                                                                        <option value="@tbl_country_id">@country_name_en</option>
                                                                                    }
                                                                                </select>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c88", "City")</label>
                                                                                <select name="tbl_city_id" id="tbl_city_id1" class="form-control" onchange="get_cities_ajax('1','')">
                                                                                    <option value=""></option>
                                                                                </select>
                                                                            </div>
                                                                            <div class="row">
                                                                                <div class="col-lg-6" style="padding-left:0px !important">
                                                                                    <div class="form-group">
                                                                                        <label for="inputAddress">@CF.trans_code("en", "c89", "From")</label>
                                                                                        <input type="text" name="job_length" class="form-control datepicker" id="" placeholder="">
                                                                                    </div>
                                                                                </div>
                                                                                <div class="col-lg-6" style="padding-right:0px !important">
                                                                                    <div class="form-group">
                                                                                        <label for="inputAddress">@CF.trans_code("en", "c90", "To")</label>
                                                                                        <input type="text" name="date_to" class="form-control datepicker" id="" placeholder="">
                                                                                    </div>
                                                                                </div>
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">@CF.trans_code("en", "c91", "Reason For Resigning")</label>
                                                                                <textarea class="form-control reason_for_resigning" name="reason_for_resigning" id="reason_for_resigning@{@tbl_experience_user_id}" placeholder=""></textarea>
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                    </div>

                                                    <br>

                                                    <div class="form-group">
                                                        <button type="button" class="btn add_new_btn btn-info" onclick="add_new_experience_user('','','','','','','','')">+</button>
                                                    </div>

                                                    <div class="form-group text-center">
                                                        <button type="button" class="btn btn-success" onclick="ajax_save_experience_user()">@CF.trans_code("en", "c95", "Save")</button>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>





                                        <div class="tab-pane fade" id="job_user_edit" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div>
                                                <div class="card-body" style="margin:0 auto; max-width:800px;">
                                                    <div class="accordion alternate-icons" id="accordian_job_user">

                                                        @{ tbl_job_user_id = CF.rand(); }

                                                        <div class="card" id="@tbl_job_user_id">
                                                            <div class="card-header" style="position:relative">
                                                                <h5 class="mb-0">
                                                                    <a href="#!" class="d-block" data-toggle="collapse" data-target="#job_user_1" aria-expanded="false">
                                                                        <div class="num">1</div>
                                                                    </a>
                                                                </h5>
                                                                <h1 class="mdi mdi-close delete-btn" data-module="job_user"></h1>
                                                            </div>

                                                            <div id="job_user_1" class="collapse" data-parent="#accordian_job_user">
                                                                <div class="card-body">
                                                                    <div class="row">
                                                                        <div class="col-lg-12">

                                                                            <input type="hidden" name="tbl_job_user_id" value="@tbl_job_user_id" />

                                                                            <div class="form-group">
                                                                                <label for="inputAddress">Job Name</label>
                                                                                <input type="text" class="form-control" name="job_name" placeholder="">
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">Job Location</label>
                                                                                <input type="text" class="form-control" name="job_location" placeholder="">
                                                                            </div>
                                                                            <div class="form-group">
                                                                                <label for="inputAddress">Job Length</label>
                                                                                <input type="text" class="form-control" name="job_length" placeholder="">
                                                                            </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>


                                                    </div>

                                                    <br>

                                                    <div class="form-group">
                                                        <button type="button" class="btn add_new_btn btn-info" onclick="add_new_job_user('','','','')">+</button>
                                                    </div>

                                                    <div class="form-group text-center">
                                                        <button type="button" class="btn btn-success" onclick="ajax_save_job_user()">@CF.trans_code("en", "c95", "Save")</button>
                                                    </div>

                                                </div>
                                            </div>
                                        </div>

                                        <div class="tab-pane fade show" id="language_user_edit" role="tabpanel" aria-labelledby="profile-tab">
                                            <br>
                                            <div style="max-width:700px; margin:0 auto;">
                                                <div class="form-group">
                                                    <label for="inputAddress">@CF.trans_code("en", "c96", "Languages")</label>
                                                    @{
                                                        for (int i = 0; i < ViewBag.data_language_rs.Count; i++)
                                                        {
                                                            string tbl_language_id = CF.getData(i, "tbl_language_id", ViewBag.data_language_rs);
                                                            string language_name_en = CF.getData(i, "language_name_en", ViewBag.data_language_rs);
                                                            string language_name_ar = CF.getData(i, "language_name_ar", ViewBag.data_language_rs);
                                                            string language_name = language_name_en;

                                                            if (ViewBag.lan == "ar") { language_name = language_name_ar; }

                                                            <div>
                                                                <input id="@tbl_language_id" data-sortorder="2" type="checkbox" class="checkbox_language" name="tbl_language_id" value="@tbl_language_id">@language_name
                                                                <br>
                                                            </div>
                                                        }
                                                    }
                                                </div>

                                                <div class="form-group">
                                                    <label for="inputAddress">Details About Skills</label>
                                                    <textarea class="form-control details_about_skills" name="details_about_skills" id="details_about_skills_edit" placeholder=""></textarea>
                                                </div>

                                                <div class="form-group text-center">
                                                    <button type="button" class="btn btn-success" onclick="ajax_save_language_user()">@CF.trans_code("en", "c95", "Save")</button>
                                                </div>

                                            </div>
                                        </div>




                                        <div class="tab-pane fade" id="attachments_edit" role="tabpanel" aria-labelledby="contact-tab">
                                            <br><br><br><br>
                                            <div style="max-width:900px; margin:0 auto; min-height:500px;">

                                                <table id="file_list" class="table table-striped table-bordered table-hover table-checkable order-column no-footer th-align" width="100%" border="1" cellspacing="0" cellpadding="0" style="display:none;">
                                                    <tr>
                                                        <th align="center" class="th-align-center" width="25%">File</th>
                                                        <th align="center" class="th-align-center" width="40%">Comments</th>
                                                        <th align="center" class="th-align-center" width="25%">Document Type</th>
                                                        <th align="center" class="th-align-center">Action</th>
                                                    </tr>

                                                </table>
                                                <div class="row text-center">
                                                    <div class="row-elem">
                                                        <select class="bs-select form-control" data-style="btn-primary" id="tbl_document_type_id">
                                                            @{
                                                                for (int i = 0; i < ViewBag.total_document_type_rs; i++)
                                                                {
                                                                    string tbl_document_type_id = CF.getData(i, "tbl_document_type_id", ViewBag.data_document_type_rs);
                                                                    string document_type_en = CF.getData(i, "document_type_en", ViewBag.data_document_type_rs);
                                                                    string document_type_ar = CF.getData(i, "document_type_ar", ViewBag.data_document_type_rs);
                                                                    string document_type = document_type_en;
                                                                    if (ViewBag.lan_sess == "ar")
                                                                    {
                                                                        document_type = document_type_ar;
                                                                    }
                                                                    <option data-value="@document_type" value="@tbl_document_type_id" title="@document_type">@document_type</option>
                                                                }
                                                            }
                                                        </select>
                                                    </div>
                                                    <div class="row-elem">
                                                        <div class="input-icon">
                                                            <i class="fa fa-commenting"></i>
                                                            <input type="text" class="form-control" placeholder="Comments" id="file_comments">
                                                        </div>
                                                    </div>
                                                    <div class="row-elem">
                                                        <div class="input-icon">
                                                            <span>
                                                                <label for="file_upload" class="btn btn-primary btn-bordered">Upload</label>
                                                                <input type="file" id="file_upload" class="btn-default" style="display:none;" />
                                                            </span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>



                                    </div>
                                </div>
                            </div>
                            <!--card ends-->
                        </div>


                    </form>
                    @*<div class="form-group">
                            <button class="btn btn-primary" onclick="ajax_save()">@CF.trans_code("en", "c122", "Submit")</button>
                        </div>*@

                </div>
            </div>
        </div>
    </div>
</div>
<!-- MODAL EDIT END -->
<br />
<br />


<link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>

<script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.4/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.4/js/buttons.flash.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/pdfmake.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.36/vfs_fonts.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.colVis.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.5.2/js/buttons.print.min.js"></script>

<script src="https://cdn.datatables.net/select/1.2.7/js/dataTables.select.min.js"></script>
<script src="https://cdn.datatables.net/rowreorder/1.2.5/js/dataTables.rowReorder.min.js"></script>

<link rel="stylesheet" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.5.4/css/buttons.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/select/1.2.7/css/select.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/rowreorder/1.2.5/css/rowReorder.dataTables.min.css">

<script>

    function ajax_save_candidate_status(candidate_status) {

        if ($("#customRadioInline1_edit").prop("checked") == true) {
            candidate_status = "hired";
        } else if ($("#customRadioInline2_edit").prop("checked") == true) {
            candidate_status = "archieve";
        } else if ($("#customRadioInline3_edit").prop("checked") == true) {
            candidate_status = "active";
        }

        var candidate_hired_date = "";
        var candidate_hired_place = "";
        var candidate_hired_by = "";

        if (candidate_status == "hired") {
            candidate_hired_date = $(frm_name+"#candidate_hired_date"+edit_mode).val();
            candidate_hired_place = $(frm_name +"#candidate_hired_place").val();
            candidate_hired_by = $(frm_name +"#candidate_hired_by").val();
            $(frm_name +"#hired_block").show();
        } else {
            candidate_hired_date = "";
            candidate_hired_place = "";
            candidate_hired_by = "";
            if (candidate_status != "") { $(frm_name + "#hired_block").hide(); }
        }

        var url = "/Candidate/ajax_save_candidate_status";
        //var candidate_id_enc = '@ViewBag.candidate_id_enc';
        preloader("show", "");

        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: { candidate_status: candidate_status, candidate_id_enc: candidate_id_enc, is_admin: "Y", candidate_hired_@CF.trans_code("en", "c38", "Date"): candidate_hired_date, candidate_hired_place: candidate_hired_place, candidate_hired_by: candidate_hired_by },
            success: function (data) {

            },
            error: function () {
                preloader("hide", "");
            }
        });
    }

    function ajax_save_notes() {
        var url = "/Candidate/ajax_save_candidate_notes";
        //var candidate_id_enc = '@ViewBag.candidate_id_enc';
        preloader("show", "");
        var candidate_notes = tinyMCE.get('candidate_notes'+edit_mode).getContent();

        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: { candidate_notes: candidate_notes, candidate_id_enc: candidate_id_enc, is_admin: "Y" },
            success: function (data) {
                preloader("hide", "");
                if (data.code == "Y") {
                    swal("Saved!", "@CF.trans_code("en", "c107", "Information has been saved successfully.")", "success");
                } else {
                    swal("Error!", "@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")", "error");
                }
            },
            error: function () {
                preloader("hide", "");
            }
        });
    }

    function show_hide_nationality_block() {

        if ($(frm_name+"#candidate_nationality").val() == "FSIWWXMRNQYIYICUYDNZXZDRYMHTMP") {    // UAE
            $(frm_name +"#candidate_uae_citizen_sons_yes").prop("checked", false);
            $(frm_name +"#candidate_uae_citizen_sons_no").prop("checked", false);
            $(frm_name +"#candidate_visa_status").val("");
            $(frm_name +"#nationality_block").slideUp();
        } else {
            $(frm_name +"#nationality_block").slideDown();
        }
    }

    var this_elem = "";
    $(document).ready(function () {
        //preloader("show", "UPLOADING ...");

        $(frm_name+'#file_upload').fileupload({
            dataType: 'json',

            url: '/File_Upload/Upload_Docs/',
            formData: {  },
            autoUpload: true,
            done: function (e, data) {
                var file_name_original = data.result.file_name_original;
                var file_name_updated = data.result.file_name_updated;
                var tbl_item_id = data.result.tbl_item_id;
                var id = data.result.id;
                var tr = $("tr");
                var td1 = "<td><a target='_blank' href='/Content/Uploads/" + file_name_updated + "'>" + file_name_original+"</a></td>";
                var td2 = "<td>" + $(frm_name +"#file_comments").val()+"</td>";
                var td3 = '<td data-tbldocumenttypeid="' + $(frm_name + "#tbl_document_type_id").val() + '" >' + $(frm_name +"#tbl_document_type_id option:selected").attr("data-value") + '</td>';
                var td4 = '<td class="th-align-center"><button data-tblitemid="' + tbl_item_id + '" data-tbldocumenttypeid="' + $(frm_name +"#tbl_document_type_id").val() + '" data-id="' + id +'" type="button" class="btn-delete mdi mdi-close-circle"  data-close-others="true"><i class="fa fa-close"></i></button></td>';
                $(frm_name +"#file_list").append("<tr>" + td1 + td2 + td3 + td4 + "</tr>");
                $(frm_name +"#file_list").show();
                $(frm_name +"#file_comments").val("");

                var docs = $(frm_name +"#file_list").html();

            }, drop: function (e, data) {
            }, add: function (e, data) {
                //var tbl_item_id = "@ViewBag.candidate_id_enc";
                //var source_id = "@ViewBag.candidate_id_enc";
                var tbl_item_id = candidate_id_enc;
                var source_id = candidate_id_enc;
                var source_type = "candidate";
                var file_comments = $(frm_name +"#file_comments").val();
                var tbl_document_type_id = $(frm_name +"#tbl_document_type_id").val();

                //if ($("#file_list").html().indexOf($("#tbl_document_type_id").val()) > 0) {
                //    swal("Information!",  trans(lan_trans, "p33", "The document is already uploaded. Please choose another document."), "warning");
                //    return;
                //}

                data.formData = {
                    'tbl_item_id': tbl_item_id,
                    'source_id': source_id,
                    'source_type': source_type,
                    'file_comments': file_comments,
                    'tbl_document_type_id': tbl_document_type_id
                };
                data.submit();
            },

            }).on('fileuploadprogressall', function (e, data) {
                var progress = parseInt(data.loaded / data.total * 100, 10);
                //$('#progress_bar'+ii).css('width', progress + '%');
            });
        $(document).on("click", ".btn-delete", function () {
            this_elem = $(this)
            //$(this_elem).closest("tr").remove();
            delete_option();
        });
    });

    //var this_elem = "";
    function delete_option() {

        swal({
            title: "Are you sure?",
            text:  "Are you sure you want to proceed?",
            type: "warning",
            showCancelButton: true,
            confirmButtonClass: "btn-danger",
            confirmButtonText: "Yes, delete it!",
            closeOnConfirm: true
        },
        function () {
            //preloader("show", , "DELETING ..."));
            delete_file();
        });
    }

    function delete_file() {

        var tbl_item_id = $(this_elem).attr("data-tblitemid");
        var tbl_document_type_id = $(this_elem).attr("data-tbldocumenttypeid");
        var id = $(this_elem).attr("data-id");

        var url = "/File_Upload/Delete";
        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: { tbl_item_id: tbl_item_id, tbl_document_type_id: tbl_document_type_id, id: id, is_admin: "Y"},
            success: function (data) {

                preloader("hide", "");
                if (data.status == "Y") {
                    $(this_elem).closest("tr").remove();
                    swal("Deleted!", "@CF.trans_code("en", "c99", "Information has been deleted successfully.")", "success");
                } else {
                    swal( "Error!", "@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")", "error");
                }
                var row_count = $('#file_list tr').length;
                if (row_count <= 1) {
                    $(frm_name +"#file_list").hide();
                } else {
                    $(frm_name +"#file_list").show();
                }
                var docs = $(frm_name +"#file_list").html();

            },
            error: function () {
                preloader("hide", "");
            }
        });
    }

</script>

<script>

    $(".datepicker").datepicker({
        dateFormat: 'dd/mm/yy',
        default@CF.trans_code("en", "c38", "Date"): new Date(),
        changeMonth: true,
        changeYear: true
    });

    $('.datepicker').css("z-index", "0");
</script>


<script>

    tinymce.init({
        editor_selector: 'candidate_notes',
        mode: "specific_textareas",
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('candidate_notes').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */
            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });


    tinymce.init({
        editor_selector: 'speciality_details',
        mode: "specific_textareas",
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('speciality_details').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */
            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });


    tinymce.init({
        editor_selector: 'reason_for_resigning',
        mode: "specific_textareas",
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('reason_for_resigning').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */
            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });


    tinymce.init({
        editor_selector: 'details_about_skills',
        mode: "specific_textareas",
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('details_about_skills').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */
            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });

    tinymce.init({
        selector: '#candidate_notes',
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('candidate_notes').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */
            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });

</script>


<script>

    tinymce.init({
        editor_selector: 'candidate_notes_edit',
        mode: "specific_textareas",
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('candidate_notes_edit').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */
            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });


    tinymce.init({
        editor_selector: 'speciality_details_edit',
        mode: "specific_textareas",
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('speciality_details_edit').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */
            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });


    tinymce.init({
        editor_selector: 'reason_for_resigning_edit',
        mode: "specific_textareas_edit",
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('reason_for_resigning_edit').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */

            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });


    tinymce.init({
        editor_selector: 'details_about_skills_edit',
        mode: "specific_textareas",
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('details_about_skills_edit').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */
            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });

    tinymce.init({
        selector: '#candidate_notes_edit',
        plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
        toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
        image_advtab: true,
        content_css: [
            '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
            '//www.tiny.cloud/css/codepen.min.css'
        ],
        setup: function (editor) {

            /* example, adding a toolbar menu button */
            editor.ui.registry.addMenuButton('mybutton', {
                text: 'Read More',
                fetch: function (callback) {
                    var con = tinyMCE.get('candidate_notes_edit').getContent();
                    var index = con.indexOf('<hr class="read_more" />');
                    if (index == -1) {//Not found
                        editor.insertContent('<hr class="read_more" />');
                    } else {
                        alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                    }
                }
            });
        },
        link_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_list: [
            { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
            { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
        ],
        image_class_list: [
            { candidate_sons: 'None', value: '' },
            { candidate_sons: 'Some class', value: 'class-name' }
        ],
        importcss_append: true,
        height: 400,
        file_picker_callback: function (callback, value, meta) {
            /* Provide file and text for the link dialog */
            if (meta.filetype === 'file') {
                callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
            }

            /* Provide image and alt text for the image dialog */
            if (meta.filetype === 'image') {
                callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
            }

            /* Provide alternative source and posted for the media dialog */
            if (meta.filetype === 'media') {
                callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
            }
        },
        templates: [
            { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
            { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
        ],
        template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
        image_caption: true,

        spellchecker_dialog: true,
        spellchecker_whitelist: ['Ephox', 'Moxiecode']
    });

</script>

<script>
    $(document).ready(function () {
        setTimeout(function () { $('select[name*=tbl_listing_length]').val(10); }, 500);
    });

</script>

<script language="javascript">

    var frm_name = "#frm_add ";
    var edit_mode = "";
    var candidate_id_enc = "@ViewBag.candidate_id_enc";

    var table = "";

    $(document).ready(function () {
        $('.checkbox_row_all').change(function () {
            if ($(this).is(":checked")) {
                $(".checkbox_row").each(function () {
                    var is_checked = $(this).prop("checked", true);
                    if (is_checked == true) {
                        record_id_str = record_id_str + $(this).val() + ",";
                    }
                });

            } else {
                $(".checkbox_row").each(function () {
                    var is_checked = $(this).prop("checked", false);
                    if (is_checked == true) {
                        record_id_str = record_id_str + $(this).val() + ",";
                    }
                });
            }
        });

        $('input[type="checkbox"]').on('click', function () {

        });

        var this_reference = "";
        $("body").on("click", ".delete-btn", function () {
            //alert($(this).attr("data-module"));
            //alert($(this).closest("div.card").attr("id"));
            var module = $(this).attr("data-module");
            var id = $(this).closest("div.card").attr("id");
            this_reference = $(this);
            alert(module);

            swal({
                title: "Message",
                text: "Are you sure?",
                type: "warning",
                showCancelButton: true,
                confirmButtonClass: "btn-danger",
                confirmButtonText: "Yes",
                closeOnConfirm: true
            },
                function () {

                    preloader("show", "");

                    var url = "/candidate/delete_group";
                    $.ajax({
                        type: "POST",
                        url: url,
                        dataType: "JSON",
                        data: {
                            module: module, id: id, is_admin: "Y"
                        },
                        success: function (data) {
                            preloader("hide", "");
                            if (data.code == "SE") {
                                my_alert("@CF.trans_code("en", "c98", "Your session is invalid or it has expired. Kindly log in again.")");
                            } else if (data.code == "Y") {

                                my_alert("@CF.trans_code("en", "c99", "Information has been deleted successfully.")", "green");
                                this_reference.closest("div.card").remove();

                            } else {
                                my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")", "red");
                            }
                        },
                        error: function () {
                            my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")", "red");
                            preloader("hide", "");
                        }
                    });
                });
        });

    });



    var exportOptions = {
        columns: ':visible:not(.not-exported)',
        rows: '.selected'
    }

    var table = "";
    var tbl_job_id = '@ViewBag.tbl_job_id';

    $(document).ready(function () {

        table = $('#tbl_listing').DataTable({
            dom: 'lBfrtip',
            ajax: '/Candidate/get_all_candidate_data_table/?tbl_job_id='+tbl_job_id,
            "pageLength": 5,
            "bSort": true,
            "bFilter": true,
            'scrollX': true,
            "bPaginate": true,
            "bFilter": true,
            "bLengthChange": true,
            autoFilter: true,
            "oLanguage": {
                "sLengthMenu": "  _MENU_  "
            },

            initComplete: function () {
                var index = 0;
                this.api().columns().every(function () {
                    index = index + 1;
                    //alert(index);

                    if (index == 19 || index == 18 || index == 3 || index == 5 || index == 2 || index == 17 || index == 16 || index == 15 || index == 9 || index == 7 || index == 8 || index == 10) {
                        var column = this;
                        var select = $('<select class="ddm"><option value="">All</option></select>')
                            .on('change', function () {
                                var val = $.fn.dataTable.util.escapeRegex(
                                    $(this).val()
                                );

                                column
                                    .search(val ? '^' + val + '$' : '', true, false)
                                    .draw();
                            });

                        if (index == 19) {
                            select.appendTo($("#candidate_nationality"));
                        }
                        if (index == 18) {
                            select.appendTo($("#candidate_uae_citizen_sons"));
                        }
                        if (index == 3) {
                            select.appendTo($("#candidate_gender"));
                        }
                        if (index == 5) {
                            select.appendTo($("#candidate_marital_status"));
                        }
                        if (index == 2) {
                            select.appendTo($("#candidate_emirate"));
                        }
                        if (index == 17) {
                            select.appendTo($("#candidate_educational_level"));
                        }
                        if (index == 16) {
                            select.appendTo($("#candidate_educational_institute"));
                        }
                        if (index == 15) {
                            select.appendTo($("#candidate_speciality"));
                        }
                        if (index == 9) {
                            select.appendTo($("#candidate_language"));
                        }
                        if (index == 7) {
                            select.appendTo($("#candidate_employment_status"));
                        }
                        if (index == 8) {
                            select.appendTo($("#candidate_is_disabled"));
                        }
                        if (index == 10) {
                            select.appendTo($("#candidate_status"));
                        }
                        column.data().unique().sort().each(function (d, j) {
                            var fields = d.split('<br>');
                            if (fields.length > 0) {
                                for (i = 0; i < fields.length; i++) {
                                    if (fields[i] != "") {
                                        select.append('<option value="' + fields[i] + '">' + fields[i] + '</option>')
                                    }
                                }
                            } else {
                                select.append('<option value="' + d + '">' + d + '</option>')
                            }
                        });
                    }
                });
            },
            columns: [
                { data: 'readingOrder', className: 'reorder' },
                { data: 'candidate_emirate' },
                { data: 'candidate_gender' },
                { data: 'age_' },
                { data: 'candidate_marital_status_' },
                { data: 'candidate_emirate_' },
                { data: 'candidate_employment_status_' },
                { data: 'candidate_is_disabled_' },
                { data: 'candidate_language_' },
                { data: 'candidate_status_' },
                { data: 'candidate_emirates_id_' },
                { data: 'candidate_mobile_no1_' },
                { data: 'candidate_mobile_no2_' },
                { data: 'candidate_birth_date' },
                { data: 'candidate_speciality' },
                { data: 'candidate_education_institute' },
                { data: 'candidate_educational_level' },
                { data: 'candidate_sons' },
                { data: 'candidate_nationality' },
                { data: 'candidate_name' },
                { data: 'candidate_code' },
                { data: 'status' },
                { data: 'checkbox' },
            ],
            columnDefs: [
                { orderable: true, targets: [1, 2, 3] },
                {
                    "targets": 0,
                    "className": "text-center",
                    "width": "8%"
                },
                {
                    "targets": 1,
                    "className": "text-center",
                },
                {
                    "targets": 2,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 3,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 4,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 5,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 6,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 7,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 8,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 9,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 10,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 11,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 12,
                    "className": "text-center",
                    "visible": false,
                },
                {
                    "targets": 13,
                    "className": "text-center",
                },
                {
                    "targets": 14,
                    "className": "text-center",
                },
                {
                    "targets": 15,
                    "className": "text-center",
                },
                {
                    "targets": 16,
                    "className": "text-center",
                },
                {
                    "targets": 17,
                    "className": "text-center",
                },
                {
                    "targets": 18,
                    "className": "text-center",
                    "width": "4%"
                },
                {
                    "targets": 19,
                    "className": "text-center",
                    "width": "4%"
                },

            ],

            select: true,
            rowReorder: {
                dataSrc: 'readingOrder',

            }, buttons: [
                'colvis',
                'selectAll',
                'selectNone',
                {
                    extend: 'collection',
                    text: 'Export Selected',
                    buttons: [
                        {
                            extend: 'copy',
                            exportOptions: exportOptions
                        },
                        {
                            extend: 'csv',
                            exportOptions: exportOptions
                        },
                        {
                            extend: 'print',
                            exportOptions: exportOptions
                        }
                    ]
                }
            ],
        });

        $('#tbl_listing').on('row-reorder.dt', function (e, details, edit) {
            var sort_order_max = 0;
            var sort_id_str = "";
            $(".checkbox_row").each(function () {
                var sort_order = $(this).attr("data-sortorder");
                if (sort_order > sort_order_max) { sort_order_max = sort_order; }
                var elem_id = $(this).attr("data-id");
                sort_id_str = sort_id_str + elem_id + ",";
            });

            ajax_set_sort_order(sort_id_str, sort_order_max);
        });


        $.fn.dataTable.ext.search.push(
            function (settings, data, dataIndex) {
                var min = parseInt($('#min').val(), 10);
                var max = parseInt($('#max').val(), 10);
                var age = parseFloat(data[3]) || 0; // use data for the age column

                if ((isNaN(min) && isNaN(max)) ||
                    (isNaN(min) && age <= max) ||
                    (min <= age && isNaN(max)) ||
                    (min <= age && age <= max)) {
                    return true;
                }
                return false;
            }
        );

        $('#min, #max').keyup(function () {
            table.draw();
        });
    });

    $(document).ready(function () {
        $('#tbl_listing').on('click', 'tr', function () {
            $(this).toggleClass("selected");
        });
    });


    function show_add_form() {
        frm_name = "#frm_add ";
        edit_mode = "";

        $("#modal_add").modal('show');
    }

    function show_edit_form() {

        frm_name = "#frm_edit ";
        edit_mode = "_edit";

        var record_id = "", flg = 0;
        $(".checkbox_row").each(function () {
            var is_checked = $(this).prop("checked");
            if (is_checked == true && flg == 0) {
                record_id = $(this).val();
                flg = 1;
            }
        });

        if (record_id == "") {
            my_alert("@CF.trans_code("en", "c97", "Please select at least one record to proceed.")", "red");
            return;
        }
        $.ajax({
            type: "POST",
            url: "Candidate/edit",
            data: {
                record_id: record_id,
                is_admin: "Y",
                is_ajax: true
            },
            success: function (data) {
                if (data.code == "SE") {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                    return;
                }

                $(".nav-item").each(function () {
                    $(this).show();
                });

                $(frm_name + "#picture_section").show();
                $(frm_name + "#picture_section").slideDown();

                var id = data.obj.id;
                var tbl_candidate_id = data.obj.tbl_candidate_id;

                candidate_id_enc = tbl_candidate_id;

                var candidate_code = data.obj.candidate_code;
                var candidate_name = data.obj.candidate_name;
                var candidate_second_name = data.obj.candidate_second_name;
                var candidate_third_name = data.obj.candidate_third_name;
                var candidate_last_name = data.obj.candidate_last_name;
                var candidate_emirates_id = data.obj.candidate_emirates_id;
                var candidate_email = data.obj.candidate_email;
                var candidate_password = data.obj.candidate_password;
                var candidate_salt = data.obj.candidate_salt;
                var candidate_notes = data.obj.candidate_notes;
                var candidate_nationality = data.obj.candidate_nationality;
                var candidate_passport_no = data.obj.candidate_passport_no;
                var candidate_gender = data.obj.candidate_gender;
                var candidate_birth_date = data.obj.candidate_birth_date;
                var candidate_marital_status = data.obj.candidate_marital_status;
                var candidate_emirate = data.obj.candidate_emirate;
                var candidate_city = data.obj.candidate_city;
                var candidate_mobile_no1 = data.obj.candidate_mobile_no1;
                var candidate_mobile_no2 = data.obj.candidate_mobile_no2;
                var candidate_uae_citizen_sons = data.obj.candidate_uae_citizen_sons;
                var candidate_visa_status = data.obj.candidate_visa_status;
                var candidate_driver_license = data.obj.candidate_driver_license;
                var candidate_is_disabled = data.obj.candidate_is_disabled;
                var candidate_employment_status = data.obj.candidate_employment_status;
                var candidate_status = data.obj.candidate_status;
                var want_to_complete_studies = data.obj.want_to_complete_studies;
                var details_about_skills = data.obj.details_about_skills;
                var want_training = data.obj.want_training;
                var candidate_hired_date = data.obj.candidate_hired_date;
                var candidate_hired_place = data.obj.candidate_hired_place;
                var candidate_hired_by = data.obj.candidate_hired_by

                //alert(candidate_hired_date);

                var sort_order = data.obj.sort_order;
                var added_date = data.obj.added_date;
                var added_by = data.obj.added_by;
                var is_active = data.obj.is_active;

                ////$(frm_name + "#candidate_code").val(candidate_code);
                $(frm_name + "#candidate_name").val(candidate_name);
                $(frm_name + "#candidate_second_name").val(candidate_second_name);
                $(frm_name + "#candidate_third_name").val(candidate_third_name);
                $(frm_name + "#candidate_last_name").val(candidate_last_name);
                $(frm_name + "#candidate_emirates_id").val(candidate_emirates_id);
                $(frm_name + "#candidate_email").val(candidate_email);
                tinyMCE.get('candidate_notes' + edit_mode).setContent(candidate_notes);
                $(frm_name + "#candidate_nationality").val(candidate_nationality);
                $(frm_name + "#candidate_passport_no").val(candidate_passport_no);
                if (candidate_gender == "male") { $("#male_edit").prop("checked", true); } else if (candidate_gender == "female") { $("#female_edit").prop("checked", true);}
                $(frm_name + "#candidate_birth_date"+edit_mode).val(candidate_birth_date);
                $(frm_name + "#candidate_marital_status").val(candidate_marital_status);
                $(frm_name + "#candidate_emirate").val(candidate_emirate);
                $(frm_name + "#candidate_city").val(candidate_city);
                $(frm_name + "#candidate_mobile_no1").val(candidate_mobile_no1);
                $(frm_name + "#candidate_mobile_no2").val(candidate_mobile_no2);
                if (candidate_uae_citizen_sons == "yes") { $("#candidate_uae_citizen_sons_yes_edit").prop("checked", true); } else if (candidate_uae_citizen_sons == "no") { $("#candidate_uae_citizen_sons_no_edit").prop("checked", true); }
                $(frm_name + "#candidate_visa_status").val(candidate_visa_status);
                $(frm_name + "#candidate_driver_license").val(candidate_driver_license);
                if (candidate_is_disabled == "yes") { $("#candidate_is_disabled_yes_edit").prop("checked", true); } else if (candidate_is_disabled == "no") { $("#candidate_is_disabled_no_edit").prop("checked", true); }
                $(frm_name + "#candidate_employment_status").val(candidate_employment_status);
                $(frm_name + "#candidate_status").val(candidate_status);
                //$(frm_name + "#want_to_complete_studies").val(want_to_complete_studies);

                tinyMCE.get('details_about_skills' + edit_mode).setContent(details_about_skills);

                $("#customRadioInline1" + edit_mode).prop("checked", false);
                $("#customRadioInline2" + edit_mode).prop("checked", false);
                $("#customRadioInline3" + edit_mode).prop("checked", false);

                $(frm_name + "#candidate_hired_date"+edit_mode).val(candidate_hired_date);
                $(frm_name + "#candidate_hired_place").val(candidate_hired_place);
                $(frm_name + "#candidate_hired_by").val(candidate_hired_by);

                if (candidate_status == "hired") {
                    $("#customRadioInline1" + edit_mode).prop("checked", true);
                    $(frm_name + "#hired_block").show();
                } else if (candidate_status == "archieve") {
                    $("#customRadioInline2" + edit_mode).prop("checked", true);
                } else if (candidate_status == "active") {
                    $("#customRadioInline3" + edit_mode).prop("checked", true);
                }

                $(frm_name+"#accordian_academic_qualification_user").html("");
                for (var i = 0; i < data.data_academic_qualification_user_rs.length; i++) {
                    var tbl_academic_qualification_user_id = data.data_academic_qualification_user_rs[i].tbl_academic_qualification_user_id;
                    var tbl_educational_level_id = data.data_academic_qualification_user_rs[i].tbl_educational_level_id;
                    var tbl_educational_institute_id = data.data_academic_qualification_user_rs[i].tbl_educational_institute_id;
                    var tbl_speciality_id = data.data_academic_qualification_user_rs[i].tbl_speciality_id;
                    var speciality_details = data.data_academic_qualification_user_rs[i].speciality_details;
                    var graduation_year = data.data_academic_qualification_user_rs[i].graduation_year;
                    add_new_academic_qualification_user(tbl_academic_qualification_user_id, tbl_educational_level_id, tbl_educational_institute_id, tbl_speciality_id, speciality_details, graduation_year);
                    $("#tbl_educational_level_id" + tbl_academic_qualification_user_id).val(tbl_educational_level_id);
                    $("#tbl_educational_institute_id" + tbl_academic_qualification_user_id).val(tbl_educational_institute_id);
                    $("#tbl_speciality_id" + tbl_academic_qualification_user_id).val(tbl_speciality_id);
                    $("#graduation_year" + tbl_academic_qualification_user_id).val(graduation_year);
                }

                $(frm_name + "#accordian_experience_user").html("");
                for (var i = 0; i < data.data_experience_user_rs.length; i++) {
                    var tbl_experience_user_id = data.data_experience_user_rs[i].tbl_experience_user_id;
                    var entity_name = data.data_experience_user_rs[i].entity_name;
                    var job_title = data.data_experience_user_rs[i].job_title;
                    var tbl_country_id = data.data_experience_user_rs[i].tbl_country_id;
                    var tbl_city_id = data.data_experience_user_rs[i].tbl_city_id;
                    var date_from = data.data_experience_user_rs[i].date_from;
                    var date_to = data.data_experience_user_rs[i].date_to;
                    var reason_for_resigning = data.data_experience_user_rs[i].reason_for_resigning;
                    add_new_experience_user(tbl_experience_user_id, entity_name, job_title, tbl_country_id, tbl_city_id, date_from, date_to, reason_for_resigning);
                    $("#tbl_country_id" + tbl_experience_user_id).val(tbl_country_id);
                    get_cities_ajax(tbl_experience_user_id , tbl_city_id);
                }

                $(frm_name + "#accordian_job_user").html("");
                for (var i = 0; i < data.data_job_user_rs.length; i++) {
                    var tbl_job_user_id = data.data_job_user_rs[i].tbl_job_user_id;
                    var job_name = data.data_job_user_rs[i].job_name;
                    var job_location = data.data_job_user_rs[i].job_location;
                    var job_length = data.data_job_user_rs[i].job_length;
                    add_new_job_user(tbl_job_user_id, job_name, job_location, job_length);
                }

                for (var i = 0; i < data.data_language_user_rs.length; i++) {
                    var tbl_language_id = data.data_language_user_rs[i].tbl_language_id;
                    //alert(tbl_language_id);
                    $(frm_name + " #" + tbl_language_id).prop("checked", true);
                    $(frm_name + " #" + tbl_language_id).attr("checked", "checked");
                }

                if (data.data_picture_rs.length > 0) {
                    var file_name_updated = data.data_picture_rs[0].file_name_updated;
                    var tbl_item_id = data.data_picture_rs[0].tbl_item_id;

                    if (file_name_updated != "") {
                        $(frm_name + "#picture").html('<i data-tblitemid="' + tbl_item_id + '" class="img-del img-del-picture mdi mdi-close-circle"></i>' + '<img src="/Content/Uploads/' + file_name_updated + '">');
                        $(frm_name + "#picture").show();
                        $(frm_name + "#fu-picture-image").hide();
                    }
                }

                for (var i = 0; i < data.data_item_docs_rs.length; i++) {
                    var file_name_original = data.data_item_docs_rs[i].file_name_original;
                    var file_name_updated = data.data_item_docs_rs[i].file_name_updated;
                    var tbl_item_id = data.data_item_docs_rs[i].tbl_item_id;
                    var file_comments = data.data_item_docs_rs[i].file_comments;
                    var tbl_document_type_id = data.data_item_docs_rs[i].tbl_document_type_id;
                    var document_type = data.data_item_docs_rs[i].document_type;
                    var id = data.data_item_docs_rs[i].id;
                    var tr = $("tr");
                    var td1 = "<td><a target='_blank' href='/Content/Uploads/" + file_name_updated + "'>" + file_name_original + "</a></td>";
                    var td2 = "<td>" + file_comments + "</td>";
                    var td3 = '<td data-tbldocumenttypeid="' + tbl_document_type_id + '" >' + document_type + '</td>';
                    var td4 = '<td class="th-align-center"><button data-tblitemid="' + tbl_item_id + '" data-tbldocumenttypeid="' + $(frm_name + "#tbl_document_type_id").val() + '" data-id="' + id + '" type="button" class="btn-delete mdi mdi-close-circle"  data-close-others="true"><i class="fa fa-close"></i></button></td>';
                    $(frm_name + "#file_list").append("<tr>" + td1 + td2 + td3 + td4 + "</tr>");
                    $(frm_name + "#file_list").show();
                    $(frm_name + "#file_comments").val("");

                    var docs = $(frm_name + "#file_list").html();
                }

                $("#modal_edit").modal("show");
            },
            error: function () {
            },
            complete: function () {
            }
        });
    }

    function ajax_activate() {

        var record_id_str = "";
        $(".checkbox_row").each(function () {
            var is_checked = $(this).prop("checked");
            if (is_checked == true) {
                record_id_str = record_id_str + $(this).val() + ",";
            }
        });

        if (record_id_str == "") {
            my_alert("@CF.trans_code("en", "c97", "Please select at least one record to proceed.")", "red");
            return;
        }

        swal({
            title: "Message",
            text: "Are you sure?",
            type: "warning",
            showCancelButton: true,
            confirmButtonClass: "btn-danger",
            confirmButtonText: "Yes",
            closeOnConfirm: true
        },
            function () {

                preloader("show", "");

                var url = "/Candidate/Activate";
                $.ajax({
                    type: "POST",
                    url: url,
                    dataType: "JSON",
                    data: {
                        record_id_str: record_id_str, is_admin: "Y"
                    },
                    success: function (data) {
                        preloader("hide", "");
                        if (data.code == "SE") {
                            my_alert("@CF.trans_code("en", "c98", "Your session is invalid or it has expired. Kindly log in again.")");
                        } else if (data.code == "Y") {

                            $(".checkbox_row").each(function () {
                                var is_checked = $(this).prop("checked");
                                if (is_checked == true) {
                                    $("#status_row_" + $(this).val()).removeClass("status_row_unpublished").addClass("status_row_published");
                                    $(this).prop("checked", false);
                                }
                            });

                            my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.")", "green");

                        } else {
                            my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")", "red");
                        }
                    },
                    error: function () {
                        my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")", "red");
                        preloader("hide", "");
                    }
                });
            });

        return;
    }

    function ajax_deactivate() {

        var record_id_str = "";
        $(".checkbox_row").each(function () {
            var is_checked = $(this).prop("checked");
            if (is_checked == true) {
                record_id_str = record_id_str + $(this).val() + ",";
            }
        });

        if (record_id_str == "") {
            my_alert("@CF.trans_code("en", "c97", "Please select at least one record to proceed.")", "red");
            return;
        }

        swal({
            title: "Message",
            text: "Are you sure?",
            type: "warning",
            showCancelButton: true,
            confirmButtonClass: "btn-danger",
            confirmButtonText: "Yes",
            closeOnConfirm: true
        },
            function () {
                preloader("show", "");

                var url = "/Candidate/Deactivate";
                $.ajax({
                    type: "POST",
                    url: url,
                    dataType: "JSON",
                    data: {
                        record_id_str: record_id_str, is_admin: "Y"
                    },
                    success: function (data) {
                        preloader("hide", "");
                        if (data.code == "SE") {
                            my_alert("@CF.trans_code("en", "c98", "Your session is invalid or it has expired. Kindly log in again.")");
                        } else if (data.code == "Y") {
                            $(".checkbox_row").each(function () {
                                var is_checked = $(this).prop("checked");
                                if (is_checked == true) {
                                    $("#status_row_" + $(this).val()).removeClass("status_row_published").addClass("status_row_unpublished");
                                    $(this).prop("checked", false);
                                }
                            });

                            my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.")", "green");

                        } else {
                            my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")", "red");
                        }
                    },
                    error: function () {
                        my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")", "red");
                        preloader("hide", "");
                    }
                });
            });

        return;
    }

    function ajax_delete() {

        var record_id_str = "";
        $(".checkbox_row").each(function () {
            var is_checked = $(this).prop("checked");
            if (is_checked == true) {
                record_id_str = record_id_str + $(this).val() + ",";
            }
        });

        if (record_id_str == "") {
            my_alert("@CF.trans_code("en", "c97", "Please select at least one record to proceed.")", "red");
            return;
        }

        swal({
            title: "Message",
            text: "Are you sure?",
            type: "warning",
            showCancelButton: true,
            confirmButtonClass: "btn-danger",
            confirmButtonText: "Yes",
            closeOnConfirm: true
        },
            function () {
                preloader("show", "");

                var url = "/Candidate/Delete";
                $.ajax({
                    type: "POST",
                    url: url,
                    dataType: "JSON",
                    data: {
                        record_id_str: record_id_str, is_admin: "Y"
                    },
                    success: function (data) {
                        preloader("hide", "");
                        if (data.code == "SE") {
                            my_alert("@CF.trans_code("en", "c98", "Your session is invalid or it has expired. Kindly log in again.")");
                        } else if (data.code == "Y") {
                            deselect_rows();
                            table.ajax.reload();
                            $("#total_records").html(data.total_records);
                            my_alert("@CF.trans_code("en", "c99", "Information has been deleted successfully.")", "green");
                        } else {
                            my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                        }
                    },
                    error: function () {
                        my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                        preloader("hide", "");
                    }
                });
            });

        return;
    }

    function get_cities_ajax(id_num, select_city_id) {
        var tbl_country_id = $(frm_name+" #tbl_country_id" + id_num).val();
        var lan = '@ViewBag.lan';
        //alert(select_city_id);
        $.ajax({
            type: "POST",
            url: "Country/get_cities",
            data: {
                tbl_country_id: tbl_country_id,
                is_admin: "Y",
                lan:lan,
                is_ajax: true
            },
            success: function (data) {
                if (data.code == "Y") {
                    $(frm_name + "#tbl_city_id" + id_num).html(data.option_str);
                    $(frm_name + "#tbl_city_id" + id_num).val(select_city_id);
                } else {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                }
            },
            error: function () {
            },
            complete: function () {
            }
        });
    }

    function ajax_create() {

        //var candidate_id_enc = "@ViewBag.candidate_id_enc";
        var candidate_name = $(frm_name +" #candidate_name").val();
        var candidate_second_name = $(frm_name +" #candidate_second_name").val();
        var candidate_third_name = $(frm_name +" #candidate_third_name").val();
        var candidate_last_name = $(frm_name +" #candidate_last_name").val();
        var candidate_emirates_id = $(frm_name +" #candidate_emirates_id").val();
        var candidate_email = $(frm_name +" #candidate_email").val();
        var candidate_password = $(frm_name +" #candidate_password").val();
        var candidate_confirm_password = $(frm_name +" #candidate_confirm_password").val();

        var str = "";
        var regExp = / /g;

        str = candidate_name;
        if (str.length <= 0) {
            my_alert("@CF.trans_code("en", "c100", "Candidate Name is blank. Please enter Candidate Name.")");
            return false;
        }

        str = candidate_second_name;
        if (str.length <= 0) {
            my_alert("@CF.trans_code("en", "c101", "Candidate Second Name is blank. Please enter Candidate Second Name.")");
            return false;
        }

        $.ajax({
            type: "POST",
            url: "Candidate/create",
            data: {
                candidate_id_enc: candidate_id_enc,
                candidate_name: candidate_name,
                candidate_second_name: candidate_second_name,
                candidate_third_name: candidate_third_name,
                candidate_last_name: candidate_last_name,
                candidate_emirates_id: candidate_emirates_id,
                candidate_email: candidate_email,
                candidate_password: candidate_password,
                is_admin: "Y",
                is_ajax: true,
            },
            success: function (data) {

                if (data.code == "Y") {
                    $(frm_name +"#total_records").html(data.total_records);
                    deselect_rows();
                    table.ajax.reload();
                    $(frm_name +"#picture_section").show();
                    $(frm_name +"#picture_section").slideDown();
                    my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.") Please fill out details in other tabs to complete the registration process.", "green");

                    $(".nav-item").each(function () {
                        $(this).show();
                    });

                } else {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                }
            },
            error: function () {
            },
            complete: function () {
            }
        });
    }



    function ajax_save() {
        var str = "";
        var regExp = / /g;

        var tbl_candidate_id = $("#tbl_candidate_id_edit").val();

        var candidate_name = $("#frm_edit #candidate_name").val();
        var candidate_sons = $("#frm_edit #candidate_sons").val();
        var candidate_nationality = $("#frm_edit #candidate_nationality").val();
        var candidate_notes = tinyMCE.get('candidate_notes_edit').getContent();
        var candidate_education_institute = $("#frm_edit #candidate_education_institute").val();
        var candidate_speciality = $("#frm_edit #candidate_speciality").val();
        var candidate_birth_date = $("#frm_edit #candidate_birth_date").val();
        var candidate_gender = $("#frm_edit #candidate_gender_edit").val();
        var candidate_emirate = $("#frm_edit #candidate_emirate_edit").val();
        var candidate_field1 = $("#frm_edit #candidate_field1").val();
        var candidate_field2 = "N";
        if ($("#candidate_field2").prop('checked') == true) {
            candidate_field2 = "Y";
        }
        var candidate_status = $("#frm_edit #candidate_status").val();

        str = candidate_sons;
        str = str.replace(regExp, '');
        if (str.length <= 0) {
            my_alert("@CF.trans_code("en", "c103", "Title is blank. Please enter Title.")");
            return false;
        }

        str = strip_html(candidate_notes);
        str = str.replace(regExp, '');
        if (str.length <= 0) {
            my_alert("@CF.trans_code("en", "c104", "Description is blank. Please enter Description.")");
            return false;
        }

        $.ajax({
            type: "POST",
            url: "Candidate/save",
            data: {
                tbl_candidate_id: tbl_candidate_id,
                candidate_name: candidate_name,
                candidate_sons: candidate_sons,
                candidate_@CF.trans_code("en", "c56", "Nationality"): candidate_nationality,
                candidate_notes: candidate_notes,
                candidate_education_institute: candidate_education_institute,
                candidate_speciality: candidate_speciality,
                candidate_birth_@CF.trans_code("en", "c38", "Date"): candidate_birth_date,
                candidate_gender: candidate_gender,
                candidate_@CF.trans_code("en", "c65", "Emirate"): candidate_emirate,
                candidate_field1: candidate_field1,
                candidate_field2: candidate_field2,
                candidate_status: candidate_status,
                is_admin: "Y",
                is_ajax: true
            },
            success: function (data) {

                if (data.code == "Y") {
                    $("#modal_edit").modal('hide');
                    $("#total_records").html(data.total_records);
                    deselect_rows();
                    table.ajax.reload();

                    my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.")", "green");

                } else {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                }

                $('#candidate_sons').val("");
                tinymce.get('candidate_notes_edit').setContent("");
            },
            error: function () {
            },
            complete: function () {
            }
        });
    }

    function ajax_save_personal_data() {

        //var candidate_id_enc = "@ViewBag.candidate_id_enc";
        var candidate_nationality = $(frm_name +"#candidate_nationality").val();
        var candidate_uae_citizen_sons = $(frm_name +" input[name='candidate_uae_citizen_sons']:checked").val();
        var candidate_visa_status = $(frm_name +"#candidate_visa_status").val();
        var candidate_passport_no = $(frm_name +"#candidate_passport_no").val();
        var candidate_gender = $(frm_name +" input[name='candidate_gender']:checked").val();
        var candidate_birth_date = $(frm_name +" #candidate_birth_date"+edit_mode).val();
        var candidate_marital_status = $(frm_name +" #candidate_marital_status").val();
        var candidate_emirate = $(frm_name +"#candidate_emirate").val();
        var candidate_city = $(frm_name +" #candidate_city").val();
        var candidate_mobile_no1 = $(frm_name +" #candidate_mobile_no1").val();
        var candidate_mobile_no2 = $(frm_name +" #candidate_mobile_no2").val();
        var candidate_driver_license = $(frm_name +" #candidate_driver_license").val();
        var candidate_is_disabled = $(frm_name +" input[name='candidate_is_disabled']:checked").val();
        var candidate_employment_status = $(frm_name +" #candidate_employment_status").val();

        //alert(candidate_uae_citizen_sons);

        var str = "";
        var regExp = / /g;

        str = strip_html(candidate_notes);
        str = str.replace(regExp, '');
        if (str.length <= 0) {
            my_alert("Please provide notes.");
            return false;
        }

        $.ajax({
            type: "POST",
            url: "Candidate/ajax_save_personal_data",
            data: {
                candidate_id_enc: candidate_id_enc,
                candidate_@CF.trans_code("en", "c56", "Nationality"): candidate_nationality,
                candidate_uae_citizen_sons: candidate_uae_citizen_sons,
                candidate_visa_status: candidate_visa_status,
                candidate_passport_no: candidate_passport_no,
                candidate_gender: candidate_gender,
                candidate_birth_@CF.trans_code("en", "c38", "Date"): candidate_birth_date,
                candidate_marital_status: candidate_marital_status,
                candidate_@CF.trans_code("en", "c65", "Emirate"): candidate_emirate,
                candidate_city: candidate_city,
                candidate_mobile_no1: candidate_mobile_no1,
                candidate_mobile_no2: candidate_mobile_no2,
                candidate_driver_license: candidate_driver_license,
                candidate_is_disabled: candidate_is_disabled,
                candidate_employment_status: candidate_employment_status,
                is_admin: "Y",
                is_ajax: true
            },
            success: function (data) {
                if (data.code == "Y") {
                    my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.") ", "green");
                } else {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                }
            },
            error: function () {
            },
            complete: function () {
            }
        });
    }

    function add_new_academic_qualification_user(tbl_academic_qualification_user_id_, tbl_educational_level_id_, tbl_educational_institute_id_, tbl_speciality_id_, speciality_details_, graduation_year__) {

        var max_num = 0;
        var num = 0;
        $(frm_name + "#academic_qualification_user" + edit_mode + " div.num").each(function () {
            num = $(this).html().trim();
            if (num > max_num) {
                max_num = num;
            }
        });

        if (max_num <= 0) { max_num = 1; } else { max_num = parseInt(max_num) + 1;}

        var max_num = 0;
        var num = 0;
        $(frm_name + "#academic_qualification_user" + edit_mode + " div.num").each(function () {
            num = $(this).html().trim();
            if (num > max_num) {
                max_num = num;
            }
        });

        if (max_num <= 0) { max_num = 1; } else { max_num = parseInt(max_num) + 1; }

        var random_num = random_number(20);
        if (tbl_academic_qualification_user_id_ != "") { random_num = tbl_academic_qualification_user_id_}

        @{ string tbl_educational_level_id_option = "";  }
        @for (int i = 0; i < ViewBag.data_educational_level_rs.Count; i++)
        {
            string tbl_educational_level_id = CF.getData(i, "tbl_educational_level_id", ViewBag.data_educational_level_rs);
            string educational_level_en = CF.getData(i, "educational_level_en", ViewBag.data_educational_level_rs);
            tbl_educational_level_id_option = tbl_educational_level_id_option + "<option value=\"" + @tbl_educational_level_id + "\">" + @educational_level_en + "</option>";
        }

        @{ string tbl_educational_institute_id_option = "";  }
        @for (int i = 0; i < ViewBag.data_educational_institute_rs.Count; i++)
        {
            string tbl_educational_institute_id = CF.getData(i, "tbl_educational_institute_id", ViewBag.data_educational_institute_rs);
            string educational_institute_en = CF.getData(i, "educational_institute_en", ViewBag.data_educational_institute_rs);
            tbl_educational_institute_id_option = tbl_educational_institute_id_option + "<option value=\"" + @tbl_educational_institute_id + "\">" + @educational_institute_en + "</option>";
        }

        @{ string tbl_speciality_id_option = "";  }
        @for (int i = 0; i < ViewBag.data_speciality_rs.Count; i++)
        {
            string tbl_speciality_id = CF.getData(i, "tbl_speciality_id", ViewBag.data_speciality_rs);
            string speciality_en = CF.getData(i, "speciality_en", ViewBag.data_speciality_rs);
            tbl_speciality_id_option = tbl_speciality_id_option + "<option value=\"" + @tbl_speciality_id + "\">" + @speciality_en + "</option>";
        }

        @{ int graduation_year_ = Convert.ToInt32(DateTime.Now.ToString("yyyy")); string graduation_year_option = ""; }
        @for (int i = 1940; i <= graduation_year_; i++)
        {
            string selected = "";
            if (i == graduation_year_) { }
            graduation_year_option = graduation_year_option + "<option value=\"" + @i + "\">" + @i + "</option>";
        }

        var data_ =  '<div class="card" id="' + random_num + '">' +
            '    <div class="card-header" style="position:relative">' +
            '        <h5 class="mb-0">' +
            '            <a href="#!" class="d-block" data-toggle="collapse" data-target="#academic_qualification_user_' + max_num + '" aria-expanded="false">' +
            '                <div class="num">' + max_num + '</div>' +
            '            </a>' +
            '        </h5>' +
            '        <h1 class="mdi mdi-close delete-btn" data-module="academic_qualification_user"></h1>' +
            '    </div>' +
            '    <div id="academic_qualification_user_' + max_num + '" class="collapse" data-parent="#accordian_academic_qualification_user">' +
            '    <div class="card-body">' +
            '    <div class="row">' +
            '        <div class="col-lg-12">' +
            '            <input type="hidden" name="tbl_academic_qualification_user_id" value="' + random_num + '" />' +
            '            <div class="form-group">' +
            '                <label for="inputAddress">@CF.trans_code("en", "c80", "Educational Level")</label>' +
            '                <select name="tbl_educational_level_id"  id="tbl_educational_level_id' + random_num + '" class="form-control">' + '@Html.Raw(tbl_educational_level_id_option)'+
            '                </select>'+
            '            </div>' +
            '            <div class="form-group">' +
            '                <label for="inputAddress">@CF.trans_code("en", "c81", "Educational Institute")</label>' +
            '                <select name="tbl_educational_institute_id" id="tbl_educational_institute_id' + random_num + '" class="form-control">' + '@Html.Raw(tbl_educational_institute_id_option)'+
            '                </select>' +
            '            </div>' +
            '            <div class="form-group">' +
            '                <label for="inputAddress">@CF.trans_code("en", "c82", "Speciality")</label>' +
            '                <select name="tbl_speciality_id" id="tbl_speciality_id' + random_num + '" class="form-control">' + '@Html.Raw(tbl_speciality_id_option)'+
            '               </select>' +
            '            </div>' +
            '            <div class="form-group">' +
            '                <label for="inputAddress">@CF.trans_code("en", "c83", "Speciality Details")</label>' +
            '                <textarea class="form-control speciality_details" name="speciality_details" id="speciality_details' + random_num + '" placeholder="">' + speciality_details_ +'</textarea>' +
            '            </div>' +
            '            <div class="form-group">' +
            '                <label for="inputAddress">@CF.trans_code("en", "c84", "Year of Graduation")</label>' +
            '                <select name="graduation_year" id="graduation_year' + random_num + '" class="form-control">'+ '@Html.Raw(graduation_year_option)'+
            '                </select>' +
            '            </div>' +
            '        </div>' +
            '    </div>'+
            '   </div>'+
            ' </div>' +
            '</div>';

        $(frm_name +"#accordian_academic_qualification_user").append(data_);

        init_tinymce();
    }

    function add_new_experience_user(tbl_experience_user_id_, entity_name_, job_title_, tbl_country_id_, tbl_city_id_, date_from_, date_to_, reason_for_resigning_) {

        var lan = '@ViewBag.lan';
        var max_num = 0;
        var num = 0;
        $(frm_name + "#experience_user" + edit_mode + " div.num").each(function () {

            num = $(this).html().trim();
            if (num > max_num) {
                max_num = num;
            }
        });

        if (max_num <= 0) { max_num = 1; } else { max_num = parseInt(max_num) + 1;}

        var random_num = random_number(20);
        if (tbl_experience_user_id_ != "") { random_num = tbl_experience_user_id_; }

        @{ string tbl_country_id_option = "";  string country_name = "";}
        @for (int i = 0; i < ViewBag.data_country_rs.Count; i++)
        {
            string tbl_country_id = CF.getData(i, "tbl_country_id", ViewBag.data_country_rs);
            string country_en = CF.getData(i, "country_name_en", ViewBag.data_country_rs);
            string country_ar = CF.getData(i, "country_name_ar", ViewBag.data_country_rs);
            country_name = country_en;
            if (ViewBag.lan == "ar"){ country_name = country_ar; }
            country_name = country_name.Replace("'", "\\'");
            tbl_country_id_option = tbl_country_id_option + "<option value=\"" + @tbl_country_id + "\">" + @country_name + "</option>";
        }

        //alert('@tbl_country_id_option');
        var data_ =
        '<div class="card" id="' + random_num + '">' +
        '    <div class="card-header" style="position:relative">' +
        '        <h5 class="mb-0">' +
        '            <a href="#!" class="d-block" data-toggle="collapse" data-target="#experience_user_' + max_num + '" aria-expanded="false">' +
        '                <div class="num">' + max_num + '</div>' +
        '            </a>' +
        '        </h5>' +
        '        <h1 class="mdi mdi-close delete-btn" data-module="experience_user"></h1>' +
        '    </div>' +
        '    <div id="experience_user_' + max_num + '" class="collapse" data-parent="#accordian_experience_user">' +
        '        <div class="card-body">' +
        '            <div class="row">' +
        '                <div class="col-lg-12">' +
        '                    <input type="hidden" name="tbl_experience_user_id" value="' + random_num + '" />' +
        '                    <div class="form-group">' +
        '                        <label for="inputAddress">@CF.trans_code("en", "c85", "Entity")</label>' +
            '                        <input type="text" class="form-control" name="entity_name" placeholder="" value="' + entity_name_+'">' +
        '                    </div>' +
        '                    <div class="form-group">' +
        '                        <label for="inputAddress">@CF.trans_code("en", "c86", "Job Title")</label>' +
            '                        <input type="text" class="form-control" name="job_title" placeholder="" value="' + job_title_ +'">' +
        '                    </div>' +
        '                    <div class="form-group">' +
        '                        <label for="inputAddress">@CF.trans_code("en", "c87", "Country")</label>' +
            '                        <select name="tbl_country_id" id="tbl_country_id' + random_num + '" class="form-control"   onchange="get_cities_ajax(\'' + random_num + '\',\'\')">' +
        '                            <option value=""></option>' + '@Html.Raw(tbl_country_id_option)'+
        '                        </select>' +
        '                    </div>' +
        '                    <div class="form-group">' +
        '                        <label for="inputAddress">@CF.trans_code("en", "c88", "City")</label>' +
            '                        <select name="tbl_city_id" id="tbl_city_id' + random_num + '" class="form-control">' +
        '                            <option value=""></option>' +
        '                        </select>' +
        '                    </div>' +
        '                    <div class="row">' +
        '                        <div class="col-lg-6" style="padding-left:0px !important">' +
        '                            <div class="form-group">' +
        '                                <label for="inputAddress">@CF.trans_code("en", "c89", "From")</label>' +
            '                                <input type="text" name="date_from" class="form-control datepicker" id="datepicker_from' + random_num + '" placeholder="" value="' + date_from_ +'">' +
        '                            </div>' +
        '                        </div>' +
        '                        <div class="col-lg-6" style="padding-right:0px !important">' +
        '                            <div class="form-group">' +
        '                                <label for="inputAddress">@CF.trans_code("en", "c90", "To")</label>' +
            '                                <input type="text" name="date_to" class="form-control datepicker" id="datepicker_to' + random_num + '" placeholder="" value="' + date_to_ +'">' +
        '                            </div>' +
        '                        </div>' +
        '                    </div>' +
        '                    <div class="form-group">' +
        '                        <label for="inputAddress">@CF.trans_code("en", "c91", "Reason For Resigning")</label>' +
            '                        <textarea class="form-control reason_for_resigning" name="reason_for_resigning" id="reason_for_resigning' + random_num + '" placeholder="">' + reason_for_resigning_+'</textarea>' +
        '                    </div>' +
        '                </div>' +
        '            </div>' +
        '        </div>' +
        '    </div>'+
        '</div>';

        //alert(data_);
        $(frm_name + "#accordian_experience_user").append(data_);
        setTimeout(function () { init_tinymce(); }, 500);
    }


    function add_new_job_user(tbl_job_user_id_, job_name_, job_location_, job_length_) {

        var lan = '@ViewBag.lan';
        var max_num = 0;
        var num = 0;
        $(frm_name + "#job_user" + edit_mode + " div.num").each(function () {

            num = $(this).html().trim();
            if (num > max_num) {
                max_num = num;
            }
        });

        if (max_num <= 0) { max_num = 1; } else { max_num = parseInt(max_num) + 1;}

        var random_num = random_number(20);
        if (tbl_job_user_id_ != "") { random_num = tbl_job_user_id_; }

        var data_ =

        '<div class="card" id="' + random_num + '">' +
        '    <div class="card-header" style="position:relative">' +
        '        <h5 class="mb-0">' +
        '            <a href="#!" class="d-block" data-toggle="collapse" data-target="#job_user_' + max_num + '" aria-expanded="false">' +
        '                <div class="num">' + max_num + '</div>' +
        '            </a>' +
        '        </h5>' +
        '        <h1 class="mdi mdi-close delete-btn" data-module="job_user"></h1>' +
        '    </div>' +
        '    <div id="job_user_' + max_num + '" class="collapse" data-parent="#accordian_job_user">' +
        '        <div class="card-body">' +
        '            <div class="row">' +
        '                <div class="col-lg-12">' +
        '                    <input type="hidden" name="tbl_job_user_id" value="' + random_num + '" />' +
        '                    <div class="form-group">' +
        '                        <label for="inputAddress">Job Name</label>' +
            '                        <input type="text" class="form-control" name="job_name" placeholder="" value="' + job_name_ +'">' +
        '                    </div>' +
        '                    <div class="form-group">' +
        '                        <label for="inputAddress">Job Location</label>' +
            '                        <input type="text" class="form-control" name="job_location" placeholder="" value="' + job_location_ +'">' +
        '                    </div>' +
        '                    <div class="form-group">' +
        '                        <label for="inputAddress">Job Length</label>' +
            '                        <input type="text" class="form-control" name="job_length" placeholder="" value="' + job_length_ +'">' +
        '                    </div>' +
        '                </div>' +
        '            </div>' +
        '        </div>' +
        '    </div>'+
        '</div>';


        //alert(data_);
        $(frm_name +"#accordian_job_user").append(data_);
        init_tinymce();
    }

    $('body').on('click', ".datepicker", function () {
        $(this).datepicker();
    });

    function init_tinymce() {
        tinymce.init({
            selector: 'textarea',
            plugins: 'print preview  powerpaste searchreplace autolink directionality advcode visualblocks visualchars fullscreen image link media template codesample table charmap hr pagebreak nonbreaking anchor toc insertdatetime advlist lists wordcount tinymcespellchecker a11ychecker imagetools textpattern help',
            toolbar: 'mybutton | formatselect | bold italic strikethrough forecolor backcolor | link | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent  | removeformat',
            image_advtab: true,
            content_css: [
                '//fonts.googleapis.com/css?family=Lato:300,300i,400,400i',
                '//www.tiny.cloud/css/codepen.min.css'
            ],
            setup: function (editor) {

                /* example, adding a toolbar menu button */
                editor.ui.registry.addMenuButton('mybutton', {
                    text: 'Read More',
                    fetch: function (callback) {
                        var con = tinyMCE.get('textarea').getContent();
                        var index = con.indexOf('<hr class="read_more" />');
                        if (index == -1) {//Not found
                            editor.insertContent('<hr class="read_more" />');
                        } else {
                            alert("@CF.trans_code("en", "c106", "There is already a Read more... link that has been inserted. Only one such link is permitted. Use {pagebreak} to split the page up further.")")
                        }
                    }
                });
            },
            link_list: [
                { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
                { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
            ],
            image_list: [
                { candidate_sons: 'My page 1', value: 'http://www.tinymce.com' },
                { candidate_sons: 'My page 2', value: 'http://www.moxiecode.com' }
            ],
            image_class_list: [
                { candidate_sons: 'None', value: '' },
                { candidate_sons: 'Some class', value: 'class-name' }
            ],
            importcss_append: true,
            height: 400,
            file_picker_callback: function (callback, value, meta) {
                /* Provide file and text for the link dialog */
                if (meta.filetype === 'file') {
                    callback('https://www.google.com/logos/google.jpg', { text: 'My text' });
                }

                /* Provide image and alt text for the image dialog */
                if (meta.filetype === 'image') {
                    callback('https://www.google.com/logos/google.jpg', { alt: 'My alt text' });
                }

                /* Provide alternative source and posted for the media dialog */
                if (meta.filetype === 'media') {
                    callback('movie.mp4', { source2: 'alt.ogg', poster: 'https://www.google.com/logos/google.jpg' });
                }
            },
            templates: [
                { candidate_sons: 'Some candidate_sons 1', description: 'Some desc 1', content: 'My content' },
                { candidate_sons: 'Some candidate_sons 2', description: 'Some desc 2', content: '<div class="mceTmpl"><span class="cdate">cdate</span><span class="mdate">mdate</span>My content2</div>' }
            ],
            template_cdate_format: '[C@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
            template_mdate_format: '[M@CF.trans_code("en", "c38", "Date"): %m/%d/%Y : %H:%M:%S]',
            image_caption: true,

            spellchecker_dialog: true,
            spellchecker_whitelist: ['Ephox', 'Moxiecode']
        });
    }

    function random_number(limit) {
        var text = "";
        var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZ1234567890";

        for (var i = 0; i < limit; i++)
            text += possible.charAt(Math.floor(Math.random() * possible.length));

        return text;
    }


    function ajax_save_academic_qualification_user() {
        //var data__ = $("#academic_qualification_user").find("select, textarea, input").serialize();
        //alert(data__);
        //return;
        //var editors = tinyMCE.get(), i, content;
        //for (i = 0; i < editors.length; i++) {
        //    content = editors[i].getContent();
        //    alert("--->"+content);
        //    // do something
        //}
        var json = $(frm_name +"#academic_qualification_user"+edit_mode).find("select, textarea, input").SerializeObjectIntoJson("tbl_academic_qualification_user_id");

        var json_data = JSON.stringify(json);

        var want_to_complete_studies = $(frm_name + " input[name='want_to_complete_studies']:checked").val();
        //alert(json_data);
        //return;

        tbl_candidate_id = candidate_id_enc;

        $.ajax({
            type: "POST",
            url: "academic_qualification_user/save",
            data: {
                json_data: json_data, tbl_candidate_id: tbl_candidate_id, want_to_complete_studies: want_to_complete_studies,is_admin: "Y"
            },
            success: function (data) {

                if (data.code == "Y") {
                    my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.") ", "green");
                } else {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                }

            },
            error: function () {
            },
            complete: function () {
            }
        });
    }

    function ajax_save_experience_user() {

        var json = $(frm_name + "#experience_user" + edit_mode).find("select, textarea, input").SerializeObjectIntoJson("tbl_experience_user_id");
        var json_data = JSON.stringify(json);

        //alert(json_data);
        //return;

        tbl_candidate_id = candidate_id_enc;

        $.ajax({
            type: "POST",
            url: "experience_user/save",
            data: {
                json_data: json_data, tbl_candidate_id: tbl_candidate_id, is_admin: "Y"
            },
            success: function (data) {

                if (data.code == "Y") {
                    my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.") ", "green");
                } else {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                }

            },
            error: function () {
            },
            complete: function () {
            }
        });
    }


    function ajax_save_job_user() {

        var json = $(frm_name + "#job_user" + edit_mode).find("select, textarea, input").SerializeObjectIntoJson("tbl_job_user_id");
        var json_data = JSON.stringify(json);

        //alert(json_data);
        //return;

        tbl_candidate_id = candidate_id_enc;

        $.ajax({
            type: "POST",
            url: "job_user/save",
            data: {
                json_data: json_data, tbl_candidate_id: tbl_candidate_id, is_admin: "Y"
            },
            success: function (data) {

                if (data.code == "Y") {
                    my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.") ", "green");
                } else {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                }

            },
            error: function () {
            },
            complete: function () {
            }
        });
    }


    function ajax_save_language_user() {

        var language_id_str = "";
        $(".checkbox_language").each(function () {
            var is_checked = $(this).prop("checked");

            if (is_checked == true) {
                language_id_str = language_id_str + $(this).val() + ",";
            }
        });

        tbl_candidate_id = candidate_id_enc;
        var details_about_skills = tinyMCE.get("details_about_skills" + edit_mode).getContent();
        $.ajax({
            type: "POST",
            url: "language_user/save",
            data: {
                language_id_str: language_id_str, tbl_candidate_id: tbl_candidate_id, details_about_skills: details_about_skills, is_admin: "Y"
            },
            success: function (data) {

                if (data.code == "Y") {
                    my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.") ", "green");
                } else {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                }

            },
            error: function () {
            },
            complete: function () {
            }
        });
    }


    $.fn.SerializeObjectIntoJson = function (elem_sep) {
        var arr = [];
        var o = {};
        var a = this.serializeArray();
        var id = "";

        $.each(a, function () {

            if (elem_sep == this.name) {
                if (id == "") {
                    id = this.value;
                } else {
                    id = this.value;
                    arr.push(o);
                    o = {};
                }
            }

            if (this.name == "speciality_details" || this.name == "reason_for_resigning") {
                this.value = tinyMCE.get(this.name + id).getContent();

                if (o[this.name] !== undefined) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            } else {

                if (o[this.name] !== undefined) {
                    if (!o[this.name].push) {
                        o[this.name] = [o[this.name]];
                    }
                    o[this.name].push(this.value || '');
                } else {
                    o[this.name] = this.value || '';
                }
            }
        });
        arr.push(o);
        return arr;
    };

    //$.fn.serializeObjectIntoJson = function () {
    //    var o = {};
    //    var a = this.serializeArray();
    //    $.each(a, function () {
    //        if (o[this.name] !== undefined) {
    //            if (!o[this.name].push) {
    //                o[this.name] = [o[this.name]];
    //            }
    //            o[this.name].push(this.value || '');
    //        } else {
    //            o[this.name] = this.value || '';
    //        }
    //    });
    //    return o;
    //};

    function ajax_set_sort_order(sort_id_str, sort_order_max) {

        $.ajax({
            type: "POST",
            url: "Candidate/set_sort_order",
            data: {
                sort_id_str: sort_id_str,
                sort_order_max: sort_order_max,
                is_admin: "Y",
                is_ajax: true
            },
            success: function (data) {
                //if(data.code == "Y") {
                //    my_alert("@CF.trans_code("en", "c107", "Information has been saved successfully.")", "green");
                //} else {
                //    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")");
                //}
            },
            error: function () {
            },
            complete: function () {
            }
        });
    }

    function deselect_rows() {
        table.rows({ selected: true }).deselect();
    }

    $(document).ready(function () {

        $(frm_name +'#file_upload_picture').fileupload({
            dataType: 'json',

            url: '/File_Upload/Upload/',
            formData: {  },
            autoUpload: true,
            done: function (e, data) {
                var file_name_original = data.result.file_name_original;
                var file_name_updated = data.result.file_name_updated;
                var tbl_item_id = data.result.tbl_item_id;
                $(frm_name +"#picture").html('<i data-tblitemid="' + tbl_item_id + '" class="img-del img-del-picture mdi mdi-close-circle"></i>' + '<img src="/Content/Uploads/' + file_name_updated + '">');
                $(frm_name +"#picture").show();
                $(frm_name +"#fu-picture-image").hide();
            }, drop: function (e, data) {
            }, add: function (e, data) {
                //var tbl_item_id = "@ViewBag.candidate_id_enc" + "_picture";
                var tbl_item_id = candidate_id_enc + "_picture";

                data.formData = {
                    'tbl_item_id': tbl_item_id,
                    'section_name': "candidate"
                };
                data.submit();
            },

            }).on('fileuploadprogressall', function (e, data) {
                var progress = parseInt(data.loaded / data.total * 100, 10);
                //$('#progress_bar'+ii).css('width', progress + '%');
            });
        $(document).on("click", ".img-del-picture", function () {
            this_elem = $(this)
            //$(this_elem).closest("tr").remove();
            delete_option_picture();
        });
    });

    //var this_elem = "";
    function delete_option_picture() {

        swal({
            title: "Message",
            text: "Are you sure?",
            type: "warning",
            showCancelButton: true,
            confirmButtonClass: "btn-danger",
            confirmButtonText: "Yes",
            closeOnConfirm: true
        },
        function () {
            preloader("show", "");
            delete_picture();
        });
    }

    function delete_picture() {

        var tbl_item_id = $(this_elem).attr("data-tblitemid");
        var url = "/File_Upload/Delete";
        $.ajax({
            type: "POST",
            url: url,
            dataType: "JSON",
            data: { tbl_item_id: tbl_item_id, is_admin: "Y" },
            success: function (data) {

                preloader("hide", "");
                if (data.status == "Y") {
                    my_alert("@CF.trans_code("en", "c108", "Picture has been deleted successfully.")");
                    $(frm_name +"#picture").hide();
                    $(frm_name +"#fu-picture-image").show();
                } else {
                    my_alert("@CF.trans_code("en", "c109", "There was an error processing your request. Please try again.")", "red");
                }
            },
            error: function () {
                preloader("hide", "");
            }
        });
    }

</script>

<style type="text/css">
    .status_row {
        width: 15px;
        height: 15px;
        border-radius: 50%;
        margin: 0 auto;
    }

    .status_row_published {
        background-color: #00A47C;
    }

    .status_row_unpublished {
        background-color: #EF2E30;
    }

    .mdi-drag-variant {
        cursor: move;
    }

    .ml-2, .mx-2 {
        margin-left: 0px !important;
        margin-right: 5px !important;
    }
</style>

<script language="javascript">

</script>

<script language="javascript">
    function strip_html(html) {
        var tmp = document.createElement("DIV");
        tmp.innerHTML = html;
        return $.trim(tmp.textContent) || $.trim(tmp.innerText) || "";
    }
</script>


